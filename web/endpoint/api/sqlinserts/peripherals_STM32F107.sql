-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('PWR', 'Power control', 0x40007000, 0x0, 0x400, 'STM32F107'),
  ('RCC', 'Reset and clock control', 0x40021000, 0x0, 0x400, 'STM32F107'),
  ('GPIOA', 'General purpose I/O', 0x40010800, 0x0, 0x400, 'STM32F107'),
  ('GPIOB', 'General purpose I/O', 0x40010C00, 0x0, 0x400, 'STM32F107'),
  ('GPIOC', 'General purpose I/O', 0x40011000, 0x0, 0x400, 'STM32F107'),
  ('GPIOD', 'General purpose I/O', 0x40011400, 0x0, 0x400, 'STM32F107'),
  ('GPIOE', 'General purpose I/O', 0x40011800, 0x0, 0x400, 'STM32F107'),
  ('GPIOF', 'General purpose I/O', 0x40011C00, 0x0, 0x400, 'STM32F107'),
  ('GPIOG', 'General purpose I/O', 0x40012000, 0x0, 0x400, 'STM32F107'),
  ('AFIO', 'Alternate function I/O', 0x40010000, 0x0, 0x400, 'STM32F107'),
  ('EXTI', 'EXTI', 0x40010400, 0x0, 0x400, 'STM32F107'),
  ('DMA1', 'DMA controller', 0x40020000, 0x0, 0x400, 'STM32F107'),
  ('DMA2', 'DMA controller', 0x40020400, 0x0, 0x400, 'STM32F107'),
  ('RTC', 'Real time clock', 0x40002800, 0x0, 0x400, 'STM32F107'),
  ('BKP', 'Backup registers', 0x40006C00, 0x0, 0x400, 'STM32F107'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32F107'),
  ('WWDG', 'Window watchdog', 0x40002C00, 0x0, 0x400, 'STM32F107'),
  ('TIM1', 'Advanced timer', 0x40012C00, 0x0, 0x400, 'STM32F107'),
  ('TIM2', 'General purpose timer', 0x40000000, 0x0, 0x400, 'STM32F107'),
  ('TIM3', 'General purpose timer', 0x40000400, 0x0, 0x400, 'STM32F107'),
  ('TIM4', 'General purpose timer', 0x40000800, 0x0, 0x400, 'STM32F107'),
  ('TIM5', 'General purpose timer', 0x40000C00, 0x0, 0x400, 'STM32F107'),
  ('TIM6', 'Basic timer', 0x40001000, 0x0, 0x400, 'STM32F107'),
  ('TIM7', 'Basic timer', 0x40001400, 0x0, 0x400, 'STM32F107'),
  ('I2C1', 'Inter integrated circuit', 0x40005400, 0x0, 0x400, 'STM32F107'),
  ('I2C2', 'Inter integrated circuit', 0x40005800, 0x0, 0x400, 'STM32F107'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32F107'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32F107'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32F107'),
  ('USART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x40013800, 0x0, 0x400, 'STM32F107'),
  ('USART2', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004400, 0x0, 0x400, 'STM32F107'),
  ('USART3', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004800, 0x0, 0x400, 'STM32F107'),
  ('ADC1', 'Analog to digital converter', 0x40012400, 0x0, 0x400, 'STM32F107'),
  ('ADC2', 'Analog to digital converter', 0x40012800, 0x0, 0x400, 'STM32F107'),
  ('CAN2', 'Controller area network', 0x40006800, 0x0, 0x400, 'STM32F107'),
  ('CAN1', 'Controller area network', 0x40006400, 0x0, 0x400, 'STM32F107'),
  ('ETHERNET_MAC', 'Ethernet: media access control', 0x40028000, 0x0, 0x61, 'STM32F107'),
  ('ETHERNET_MMC', 'Ethernet: MAC management counters', 0x40028100, 0x0, 0x400, 'STM32F107'),
  ('ETHERNET_PTP', 'Ethernet: Precision time protocol', 0x40028700, 0x0, 0x400, 'STM32F107'),
  ('ETHERNET_DMA', 'Ethernet: DMA controller operation', 0x40029000, 0x0, 0x400, 'STM32F107'),
  ('USB_OTG_GLOBAL', 'USB on the go full speed', 0x50000000, 0x0, 0x400, 'STM32F107'),
  ('USB_OTG_HOST', 'USB on the go full speed', 0x50000400, 0x0, 0x400, 'STM32F107'),
  ('USB_OTG_DEVICE', 'USB on the go full speed', 0x50000800, 0x0, 0x400, 'STM32F107'),
  ('USB_OTG_PWRCLK', 'USB on the go full speed', 0x50000E00, 0x0, 0x400, 'STM32F107'),
  ('DAC', 'Digital to analog converter', 0x40007400, 0x0, 0x400, 'STM32F107'),
  ('DBG', 'Debug support', 0xE0042000, 0x0, 0x400, 'STM32F107'),
  ('UART4', 'Universal asynchronous receiver
      transmitter', 0x40004C00, 0x0, 0x400, 'STM32F107'),
  ('UART5', 'Universal asynchronous receiver
      transmitter', 0x40005000, 0x0, 0x400, 'STM32F107'),
  ('CRC', 'CRC calculation unit', 0x40023000, 0x0, 0x400, 'STM32F107'),
  ('FLASH', 'FLASH', 0x40022000, 0x0, 0x400, 'STM32F107'),
  ('FSMC', 'Flexible static memory controller', 0xA0000000, 0x0, 0x1000, 'STM32F107'),
  ('SDIO', 'Secure digital input/output
      interface', 0x40018000, 0x0, 0x400, 'STM32F107'),
  ('TIM11', 'General purpose timer', 0x40015400, 0x0, 0x400, 'STM32F107'),
  ('TIM10', 'General purpose timer', 0x40015000, 0x0, 0x400, 'STM32F107'),
  ('TIM9', 'General purpose timer', 0x40014C00, 0x0, 0x400, 'STM32F107'),
  ('TIM12', 'General purpose timer', 0x40001800, 0x0, 0x400, 'STM32F107'),
  ('ADC3', 'Analog to digital converter', 0x40013C00, 0x0, 0x400, 'STM32F107'),
  ('TIM8', 'Advanced timer', 0x40013400, 0x0, 0x400, 'STM32F107'),
  ('USB', 'Universal serial bus full-speed device
      interface', 0x40005C00, 0x0, 0x400, 'STM32F107'),
  ('TIM13', 'General purpose timer', 0x40001C00, 0x0, 0x400, 'STM32F107'),
  ('TIM14', 'General purpose timer', 0x40002000, 0x0, 0x400, 'STM32F107'),
  ('NVIC', 'Nested Vectored Interrupt
      Controller', 0xE000E100, 0x0, 0x33D, 'STM32F107'),
  ('MPU', 'Memory protection unit', 0xE000ED90, 0x0, 0x15, 'STM32F107'),
  ('SCB_ACTRL', 'System control block ACTLR', 0xE000E008, 0x0, 0x5, 'STM32F107'),
  ('NVIC_STIR', 'Nested vectored interrupt
      controller', 0xE000EF00, 0x0, 0x5, 'STM32F107'),
  ('SCB', 'System control block', 0xE000ED00, 0x0, 0x41, 'STM32F107'),
  ('STK', 'SysTick timer', 0xE000E010, 0x0, 0x11, 'STM32F107');
