-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC', 'Analog to digital converter', 0x42028000, 0x0, 0x400, 'STM32H503'),
  ('COMP', 'Comparator', 0x40004000, 0x0, 0x400, 'STM32H503'),
  ('CRC', 'Cyclic redundancy check calculation unit', 0x40023000, 0x0, 0x400, 'STM32H503'),
  ('CRS', 'Clock recovery system', 0x40006000, 0x0, 0x400, 'STM32H503'),
  ('DAC', 'Digital to analog converter', 0x42028400, 0x0, 0x400, 'STM32H503'),
  ('DBGMCU', 'Microcontroller debug unit', 0x44024000, 0x0, 0x1000, 'STM32H503'),
  ('DTS', 'Digital temperature sensor', 0x40008C00, 0x0, 0x400, 'STM32H503'),
  ('EXTI', 'Extended interrupt/event controller', 0x44022000, 0x0, 0x400, 'STM32H503'),
  ('FDCAN1', 'Controller area network', 0x4000A400, 0x0, 0x400, 'STM32H503'),
  ('FLASH', 'FLASH address block description', 0x40022000, 0x0, 0x400, 'STM32H503'),
  ('GPIOA', 'General-purpose I/Os', 0x42020000, 0x0, 0x400, 'STM32H503'),
  ('GPIOB', 'General-purpose I/Os', 0x42020400, 0x0, 0x400, 'STM32H503'),
  ('GPIOC', 'General-purpose I/Os', 0x42020800, 0x0, 0x400, 'STM32H503'),
  ('GPIOD', 'General-purpose I/Os', 0x42020C00, 0x0, 0x400, 'STM32H503'),
  ('GPIOH', 'General-purpose I/Os', 0x42021C00, 0x0, 0x400, 'STM32H503'),
  ('GTZC1', 'Global privilege controller', 0x40032400, 0x0, 0x800, 'STM32H503'),
  ('GPDMA1', 'General purpose direct memory access controller', 0x40020000, 0x0, 0x1000, 'STM32H503'),
  ('GPDMA2', 'General purpose direct memory access controller', 0x40021000, 0x0, 0x1000, 'STM32H503'),
  ('HASH', 'Hash processor', 0x420C0400, 0x0, 0x400, 'STM32H503'),
  ('ICACHE', 'Instruction cache', 0x40030400, 0x0, 0x400, 'STM32H503'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32H503'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32H503'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32H503'),
  ('I3C1', 'Improved inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32H503'),
  ('I3C2', 'Improved inter-integrated circuit', 0x44003000, 0x0, 0x400, 'STM32H503'),
  ('LPTIM1', 'Low power timer', 0x44004400, 0x0, 0x400, 'STM32H503'),
  ('LPTIM2', 'Low power timer', 0x40009400, 0x0, 0x400, 'STM32H503'),
  ('LPUART', 'Universal synchronous asynchronous receiver transmitter', 0x44002400, 0x0, 0x400, 'STM32H503'),
  ('OPAMP1', 'Operational amplifiers', 0x40003400, 0x0, 0x400, 'STM32H503'),
  ('PWR', 'Power control', 0x44020800, 0x0, 0x400, 'STM32H503'),
  ('RAMCFG', 'RAMs configuration controller', 0x40026000, 0x0, 0x400, 'STM32H503'),
  ('RCC', 'Reset and clock controller', 0x44020C00, 0x0, 0x400, 'STM32H503'),
  ('RNG', 'True random number generator', 0x420C0800, 0x0, 0x400, 'STM32H503'),
  ('RTC', 'Real-time clock', 0x44007800, 0x0, 0x400, 'STM32H503'),
  ('SBS', 'System configuration, boot and security', 0x44000400, 0x0, 0x150, 'STM32H503'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32H503'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32H503'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32H503'),
  ('TAMP', 'Tamper and backup registers', 0x44007C00, 0x0, 0x400, 'STM32H503'),
  ('TIM1', 'Advanced-control timers', 0x40012C00, 0x0, 0x400, 'STM32H503'),
  ('TIM2', 'General-purpose timers', 0x40000000, 0x0, 0x400, 'STM32H503'),
  ('TIM3', 'General-purpose timers', 0x40000400, 0x0, 0x400, 'STM32H503'),
  ('TIM6', 'Basic timers', 0x40001000, 0x0, 0x400, 'STM32H503'),
  ('TIM7', 'Basic timers', 0x40001400, 0x0, 0x400, 'STM32H503'),
  ('USART1', 'Universal synchronous asynchronous receiver transmitter', 0x40013800, 0x0, 0x400, 'STM32H503'),
  ('USART2', 'Universal synchronous asynchronous receiver transmitter', 0x40004400, 0x0, 0x400, 'STM32H503'),
  ('USART3', 'Universal synchronous asynchronous receiver transmitter', 0x40004800, 0x0, 0x400, 'STM32H503'),
  ('USB', 'USB full speed', 0x40016000, 0x0, 0x400, 'STM32H503'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32H503');
