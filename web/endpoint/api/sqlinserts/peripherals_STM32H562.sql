-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC1', 'Analog to digital converter', 0x42028000, 0x0, 0xCC, 'STM32H562'),
  ('SEC_ADC1', 'Analog to digital converter', 0x52028000, 0x0, 0xCC, 'STM32H562'),
  ('ADC2', 'Analog to digital converter', 0x42028100, 0x0, 0xCC, 'STM32H562'),
  ('SEC_ADC2', 'Analog to digital converter', 0x52028100, 0x0, 0xCC, 'STM32H562'),
  ('ADCC', 'ADC common registers block', 0x42028300, 0x0, 0x100, 'STM32H562'),
  ('SEC_ADCC', 'ADC common registers block', 0x52028300, 0x0, 0x100, 'STM32H562'),
  ('CRC', 'Cyclic redundancy check calculation unit', 0x40023000, 0x0, 0x400, 'STM32H562'),
  ('SEC_CRC', 'Cyclic redundancy check calculation unit', 0x50023000, 0x0, 0x400, 'STM32H562'),
  ('CRS', 'Clock recovery system', 0x40006000, 0x0, 0x400, 'STM32H562'),
  ('SEC_CRS', 'Clock recovery system', 0x50006000, 0x0, 0x400, 'STM32H562'),
  ('CORDIC', 'CORDIC Co-processor', 0x40023800, 0x0, 0x400, 'STM32H562'),
  ('SEC_CORDIC', 'CORDIC Co-processor', 0x50023800, 0x0, 0x400, 'STM32H562'),
  ('DAC', 'Digital to analog converter', 0x42028400, 0x0, 0x50, 'STM32H562'),
  ('SEC_DAC', 'Digital to analog converter', 0x52028400, 0x0, 0x50, 'STM32H562'),
  ('DBGMCU', 'Microcontroller debug unit', 0x44024000, 0x0, 0x1000, 'STM32H562'),
  ('DCACHE', 'Data cache', 0x40031400, 0x0, 0x400, 'STM32H562'),
  ('SEC_DCACHE', 'Data cache', 0x50031400, 0x0, 0x400, 'STM32H562'),
  ('DCMI', 'Digital camera interface', 0x4202C000, 0x0, 0x400, 'STM32H562'),
  ('SEC_DCMI', 'Digital camera interface', 0x5202C000, 0x0, 0x400, 'STM32H562'),
  ('DLYBOS1', 'Delay block', 0x4600F000, 0x0, 0x400, 'STM32H562'),
  ('SEC_DLYBOS1', 'Delay block', 0x5600F000, 0x0, 0x400, 'STM32H562'),
  ('DLYBSD1', 'Delay block', 0x46008400, 0x0, 0x400, 'STM32H562'),
  ('SEC_DLYBSD1', 'Delay block', 0x56008400, 0x0, 0x400, 'STM32H562'),
  ('DLYBSD2', 'Delay block', 0x46008800, 0x0, 0x400, 'STM32H562'),
  ('SEC_DLYBSD2', 'Delay block', 0x56008800, 0x0, 0x400, 'STM32H562'),
  ('DTS', 'Digital temperature sensor', 0x40008C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_DTS', 'Digital temperature sensor', 0x50008C00, 0x0, 0x400, 'STM32H562'),
  ('EXTI', 'Extended interrupt and event controller', 0x44022000, 0x0, 0x400, 'STM32H562'),
  ('SEC_EXTI', 'Extended interrupt and event controller', 0x54022000, 0x0, 0x400, 'STM32H562'),
  ('FDCAN1', 'Controller area network', 0x4000A400, 0x0, 0x400, 'STM32H562'),
  ('SEC_FDCAN1', 'Controller area network', 0x5000A400, 0x0, 0x400, 'STM32H562'),
  ('FDCAN2', 'Controller area network', 0x4000A800, 0x0, 0x400, 'STM32H562'),
  ('SEC_FDCAN2', 'Controller area network', 0x5000A800, 0x0, 0x400, 'STM32H562'),
  ('FLASH', 'FLASH address block description', 0x40022000, 0x0, 0x400, 'STM32H562'),
  ('SEC_FLASH', 'FLASH address block description', 0x50022000, 0x0, 0x400, 'STM32H562'),
  ('FMAC', 'Filter Math Accelerator', 0x40023C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_FMAC', 'Filter Math Accelerator', 0x50023C00, 0x0, 0x400, 'STM32H562'),
  ('FMC', 'Flexible memory controller', 0x47000400, 0x0, 0x15C, 'STM32H562'),
  ('SEC_FMC', 'Flexible memory controller', 0x57000400, 0x0, 0x15C, 'STM32H562'),
  ('GTZC1_MPCBB1', 'GTZC1_MPCBB1', 0x40032C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_GTZC1_MPCBB1', 'GTZC1_MPCBB1', 0x50032C00, 0x0, 0x400, 'STM32H562'),
  ('GTZC1_MPCBB2', 'GTZC1_MPCBB2', 0x40033000, 0x0, 0x400, 'STM32H562'),
  ('SEC_GTZC1_MPCBB2', 'GTZC1_MPCBB2', 0x50033000, 0x0, 0x400, 'STM32H562'),
  ('GTZC1_MPCBB3', 'GTZC1_MPCBB3', 0x40033400, 0x0, 0x400, 'STM32H562'),
  ('SEC_GTZC1_MPCBB3', 'GTZC1_MPCBB3', 0x50033400, 0x0, 0x400, 'STM32H562'),
  ('GTZC1_TZIC', 'GTZC1_TZIC', 0x40032800, 0x0, 0x400, 'STM32H562'),
  ('SEC_GTZC1_TZIC', 'GTZC1_TZIC', 0x50032800, 0x0, 0x400, 'STM32H562'),
  ('GTZC1_TZSC', 'Global TrustZone controller', 0x40032400, 0x0, 0x400, 'STM32H562'),
  ('SEC_GTZC1_TZSC', 'Global TrustZone controller', 0x50032400, 0x0, 0x400, 'STM32H562'),
  ('GPDMA1', 'General purpose direct memory access controller', 0x40020000, 0x0, 0x1000, 'STM32H562'),
  ('SEC_GPDMA1', 'General purpose direct memory access controller', 0x50020000, 0x0, 0x1000, 'STM32H562'),
  ('GPDMA2', 'General purpose direct memory access controller', 0x40021000, 0x0, 0x1000, 'STM32H562'),
  ('SEC_GPDMA2', 'General purpose direct memory access controller', 0x50021000, 0x0, 0x1000, 'STM32H562'),
  ('GPIOA', 'General-purpose I/Os', 0x42020000, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOA', 'General-purpose I/Os', 0x52020000, 0x0, 0x400, 'STM32H562'),
  ('GPIOB', 'General-purpose I/Os', 0x42020400, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOB', 'General-purpose I/Os', 0x52020400, 0x0, 0x400, 'STM32H562'),
  ('GPIOC', 'General-purpose I/Os', 0x42020800, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOC', 'General-purpose I/Os', 0x52020800, 0x0, 0x400, 'STM32H562'),
  ('GPIOD', 'General-purpose I/Os', 0x42020C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOD', 'General-purpose I/Os', 0x52020C00, 0x0, 0x400, 'STM32H562'),
  ('GPIOE', 'General-purpose I/Os', 0x42021000, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOE', 'General-purpose I/Os', 0x52021000, 0x0, 0x400, 'STM32H562'),
  ('GPIOF', 'General-purpose I/Os', 0x42021400, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOF', 'General-purpose I/Os', 0x52021400, 0x0, 0x400, 'STM32H562'),
  ('GPIOG', 'General-purpose I/Os', 0x42021800, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOG', 'General-purpose I/Os', 0x52021800, 0x0, 0x400, 'STM32H562'),
  ('GPIOH', 'General-purpose I/Os', 0x42021C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOH', 'General-purpose I/Os', 0x52021C00, 0x0, 0x400, 'STM32H562'),
  ('GPIOI', 'General-purpose I/Os', 0x42022000, 0x0, 0x400, 'STM32H562'),
  ('SEC_GPIOI', 'General-purpose I/Os', 0x52022000, 0x0, 0x400, 'STM32H562'),
  ('HASH', 'HASH register bank', 0x420C0400, 0x0, 0x400, 'STM32H562'),
  ('SEC_HASH', 'HASH register bank', 0x520C0400, 0x0, 0x400, 'STM32H562'),
  ('ICACHE', 'Instruction cache', 0x40030400, 0x0, 0x400, 'STM32H562'),
  ('SEC_ICACHE', 'Instruction cache', 0x50030400, 0x0, 0x400, 'STM32H562'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32H562'),
  ('SEC_IWDG', 'Independent watchdog', 0x50003000, 0x0, 0x400, 'STM32H562'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32H562'),
  ('SEC_I2C1', 'Inter-integrated circuit', 0x50005400, 0x0, 0x400, 'STM32H562'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32H562'),
  ('SEC_I2C2', 'Inter-integrated circuit', 0x50005800, 0x0, 0x400, 'STM32H562'),
  ('I2C3', 'Inter-integrated circuit', 0x44002800, 0x0, 0x400, 'STM32H562'),
  ('SEC_I2C3', 'Inter-integrated circuit', 0x54002800, 0x0, 0x400, 'STM32H562'),
  ('I2C4', 'Inter-integrated circuit', 0x44002C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_I2C4', 'Inter-integrated circuit', 0x54002C00, 0x0, 0x400, 'STM32H562'),
  ('I3C', 'Improved inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_I3C', 'Improved inter-integrated circuit', 0x50005C00, 0x0, 0x400, 'STM32H562'),
  ('LPTIM1', 'Low power timer', 0x44004400, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPTIM1', 'Low power timer', 0x54004400, 0x0, 0x400, 'STM32H562'),
  ('LPTIM2', 'Low power timer', 0x40009400, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPTIM2', 'Low power timer', 0x50009400, 0x0, 0x400, 'STM32H562'),
  ('LPTIM3', 'Low power timer', 0x44004800, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPTIM3', 'Low power timer', 0x54004800, 0x0, 0x400, 'STM32H562'),
  ('LPTIM4', 'Low power timer', 0x44004C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPTIM4', 'Low power timer', 0x54004C00, 0x0, 0x400, 'STM32H562'),
  ('LPTIM5', 'Low power timer', 0x44005000, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPTIM5', 'Low power timer', 0x54005000, 0x0, 0x400, 'STM32H562'),
  ('LPTIM6', 'Low power timer', 0x44005400, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPTIM6', 'Low power timer', 0x54005400, 0x0, 0x400, 'STM32H562'),
  ('LPUART', 'Universal synchronous asynchronous receiver transmitter', 0x44002400, 0x0, 0x400, 'STM32H562'),
  ('SEC_LPUART1', 'Universal synchronous asynchronous receiver transmitter', 0x54002400, 0x0, 0x400, 'STM32H562'),
  ('OCTOSPI', 'Octo-SPI interface', 0x47001400, 0x0, 0x400, 'STM32H562'),
  ('SEC_OCTOSPI', 'Octo-SPI interface', 0x57001400, 0x0, 0x400, 'STM32H562'),
  ('PWR', 'Power control', 0x44020800, 0x0, 0x400, 'STM32H562'),
  ('SEC_PWR', 'Power control', 0x54020800, 0x0, 0x400, 'STM32H562'),
  ('RTC', 'Real-time clock', 0x44007800, 0x0, 0x400, 'STM32H562'),
  ('SEC_RTC', 'Real-time clock', 0x54007800, 0x0, 0x400, 'STM32H562'),
  ('SAI1', 'Serial audio interface', 0x40015400, 0x0, 0x400, 'STM32H562'),
  ('SEC_SAI1', 'Serial audio interface', 0x50015400, 0x0, 0x400, 'STM32H562'),
  ('SAI2', 'Serial audio interface', 0x40015800, 0x0, 0x400, 'STM32H562'),
  ('SEC_SAI2', 'Serial audio interface', 0x50015800, 0x0, 0x400, 'STM32H562'),
  ('SBS', 'SBS register block', 0x44000400, 0x0, 0x400, 'STM32H562'),
  ('SEC_SBS', 'SBS register block', 0x54000400, 0x0, 0x400, 'STM32H562'),
  ('SDMMC1', 'Secure digital input/output MultiMediaCard interface', 0x46008000, 0x0, 0x400, 'STM32H562'),
  ('SEC_SDMMC1', 'Secure digital input/output MultiMediaCard interface', 0x56008000, 0x0, 0x400, 'STM32H562'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32H562'),
  ('SEC_SPI1', 'Serial peripheral interface', 0x50013000, 0x0, 0x400, 'STM32H562'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32H562'),
  ('SEC_SPI2', 'Serial peripheral interface', 0x50003800, 0x0, 0x400, 'STM32H562'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_SPI3', 'Serial peripheral interface', 0x50003C00, 0x0, 0x400, 'STM32H562'),
  ('SPI4', 'Serial peripheral interface', 0x40014C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_SPI4', 'Serial peripheral interface', 0x50014C00, 0x0, 0x400, 'STM32H562'),
  ('SPI5', 'Serial peripheral interface', 0x44002000, 0x0, 0x400, 'STM32H562'),
  ('SEC_SPI5', 'Serial peripheral interface', 0x54002000, 0x0, 0x400, 'STM32H562'),
  ('SPI6', 'Serial peripheral interface', 0x40015000, 0x0, 0x400, 'STM32H562'),
  ('SEC_SPI6', 'Serial peripheral interface', 0x50015000, 0x0, 0x400, 'STM32H562'),
  ('TAMP', 'Tamper and backup', 0x44007C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_TAMP', 'Tamper and backup', 0x54007C00, 0x0, 0x400, 'STM32H562'),
  ('TIM1', 'Advanced-control timers', 0x40012C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM1', 'Advanced-control timers', 0x50012C00, 0x0, 0x400, 'STM32H562'),
  ('TIM2', 'General-purpose timers', 0x40000000, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM2', 'General-purpose timers', 0x50000000, 0x0, 0x400, 'STM32H562'),
  ('TIM3', 'General-purpose timers', 0x40000400, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM3', 'General-purpose timers', 0x50000400, 0x0, 0x400, 'STM32H562'),
  ('TIM4', 'General-purpose timers', 0x40000800, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM4', 'General-purpose timers', 0x50000800, 0x0, 0x400, 'STM32H562'),
  ('TIM5', 'General-purpose timers', 0x40000C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM5', 'General-purpose timers', 0x50000C00, 0x0, 0x400, 'STM32H562'),
  ('TIM6', 'Basic timers', 0x40001000, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM6', 'Basic timers', 0x50001000, 0x0, 0x400, 'STM32H562'),
  ('TIM7', 'Basic timers', 0x40001400, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM7', 'Basic timers', 0x50001400, 0x0, 0x400, 'STM32H562'),
  ('TIM8', 'Advanced-control timers', 0x40013400, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM8', 'Advanced-control timers', 0x50013400, 0x0, 0x400, 'STM32H562'),
  ('TIM12', 'General-purpose timers', 0x40001800, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM12', 'General-purpose timers', 0x50001800, 0x0, 0x400, 'STM32H562'),
  ('TIM13', 'General-purpose timers', 0x40001C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM13', 'General-purpose timers', 0x50001C00, 0x0, 0x400, 'STM32H562'),
  ('TIM14', 'General-purpose timers', 0x40002000, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM14', 'General-purpose timers', 0x50002000, 0x0, 0x400, 'STM32H562'),
  ('TIM15', 'TIM15 address block description', 0x40014000, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM15', 'TIM15 address block description', 0x50014000, 0x0, 0x400, 'STM32H562'),
  ('TIM16', 'TIM16 address block description', 0x40014400, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM16', 'TIM16 address block description', 0x50014400, 0x0, 0x400, 'STM32H562'),
  ('TIM17', 'TIM17 address block description', 0x40014800, 0x0, 0x400, 'STM32H562'),
  ('SEC_TIM17', 'TIM17 address block description', 0x50014800, 0x0, 0x400, 'STM32H562'),
  ('UCPD1', 'USB Power Delivery interface', 0x4000DC00, 0x0, 0x400, 'STM32H562'),
  ('SEC_UCPD1', 'USB Power Delivery interface', 0x5000DC00, 0x0, 0x400, 'STM32H562'),
  ('USART1', 'Universal synchronous asynchronous receiver transmitter', 0x40013800, 0x0, 0x400, 'STM32H562'),
  ('SEC_USART1', 'Universal synchronous asynchronous receiver transmitter', 0x50013800, 0x0, 0x400, 'STM32H562'),
  ('USART2', 'Universal synchronous asynchronous receiver transmitter', 0x40004400, 0x0, 0x400, 'STM32H562'),
  ('SEC_USART2', 'Universal synchronous asynchronous receiver transmitter', 0x50004400, 0x0, 0x400, 'STM32H562'),
  ('USART3', 'Universal synchronous asynchronous receiver transmitter', 0x40004800, 0x0, 0x400, 'STM32H562'),
  ('SEC_USART3', 'Universal synchronous asynchronous receiver transmitter', 0x50004800, 0x0, 0x400, 'STM32H562'),
  ('UART4', 'Universal synchronous asynchronous receiver transmitter', 0x40004C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_UART4', 'Universal synchronous asynchronous receiver transmitter', 0x50004C00, 0x0, 0x400, 'STM32H562'),
  ('UART5', 'Universal synchronous asynchronous receiver transmitter', 0x40005000, 0x0, 0x400, 'STM32H562'),
  ('SEC_UART5', 'Universal synchronous asynchronous receiver transmitter', 0x50005000, 0x0, 0x400, 'STM32H562'),
  ('USART6', 'Universal synchronous asynchronous receiver transmitter', 0x40006400, 0x0, 0x400, 'STM32H562'),
  ('SEC_USART6', 'Universal synchronous asynchronous receiver transmitter', 0x50006400, 0x0, 0x400, 'STM32H562'),
  ('UART7', 'Universal synchronous asynchronous receiver transmitter', 0x40007800, 0x0, 0x400, 'STM32H562'),
  ('SEC_UART7', 'Universal synchronous asynchronous receiver transmitter', 0x50007800, 0x0, 0x400, 'STM32H562'),
  ('UART8', 'Universal synchronous asynchronous receiver transmitter', 0x40007C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_UART8', 'Universal synchronous asynchronous receiver transmitter', 0x50007C00, 0x0, 0x400, 'STM32H562'),
  ('UART9', 'Universal synchronous asynchronous receiver transmitter', 0x40008000, 0x0, 0x400, 'STM32H562'),
  ('SEC_UART9', 'Universal synchronous asynchronous receiver transmitter', 0x50008000, 0x0, 0x400, 'STM32H562'),
  ('USART10', 'Universal synchronous asynchronous receiver transmitter', 0x40006800, 0x0, 0x400, 'STM32H562'),
  ('SEC_USART10', 'Universal synchronous asynchronous receiver transmitter', 0x50006800, 0x0, 0x400, 'STM32H562'),
  ('USART11', 'Universal synchronous asynchronous receiver transmitter', 0x40006C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_USART11', 'Universal synchronous asynchronous receiver transmitter', 0x50006C00, 0x0, 0x400, 'STM32H562'),
  ('UART12', 'Universal synchronous asynchronous receiver transmitter', 0x40008400, 0x0, 0x400, 'STM32H562'),
  ('SEC_UART12', 'Universal synchronous asynchronous receiver transmitter', 0x50008400, 0x0, 0x400, 'STM32H562'),
  ('USB', 'USB full speed', 0x40016000, 0x0, 0x400, 'STM32H562'),
  ('SEC_USB', 'USB full speed', 0x50016000, 0x0, 0x400, 'STM32H562'),
  ('PSSI', 'Parallel synchronous slave interface', 0x4202C400, 0x0, 0x400, 'STM32H562'),
  ('SEC_PSSI', 'Parallel synchronous slave interface', 0x5202C400, 0x0, 0x400, 'STM32H562'),
  ('RAMCFG', 'RAMs configuration controller', 0x40026000, 0x0, 0x400, 'STM32H562'),
  ('SEC_RAMCFG', 'RAMs configuration controller', 0x50026000, 0x0, 0x400, 'STM32H562'),
  ('RCC', 'Reset and clock controller', 0x44020C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_RCC', 'Reset and clock controller', 0x54020C00, 0x0, 0x400, 'STM32H562'),
  ('RNG', 'True random number generator', 0x420C0800, 0x0, 0x400, 'STM32H562'),
  ('SEC_RNG', 'True random number generator', 0x520C0800, 0x0, 0x400, 'STM32H562'),
  ('VREFBUF', 'Voltage reference buffer', 0x44007400, 0x0, 0x400, 'STM32H562'),
  ('SEC_VREFBUF', 'Voltage reference buffer', 0x54007400, 0x0, 0x400, 'STM32H562'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32H562'),
  ('SEC_WWDG', 'System window watchdog', 0x50002C00, 0x0, 0x400, 'STM32H562');
