-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC1', 'Analog to Digital Converter', 0x40022000, 0x0, 0x100, 'STM32H7B3'),
  ('ADC2', 'Analog to Digital Converter', 0x40022100, 0x0, 0x100, 'STM32H7B3'),
  ('ADC12_Common', 'Analog-to-Digital Converter', 0x40022300, 0x0, 0x100, 'STM32H7B3'),
  ('AXI', 'AXI interconnect registers', 0x51000000, 0x0, 0x100000, 'STM32H7B3'),
  ('BDMA1', 'Basic direct memory access controller', 0x48022C00, 0x0, 0x400, 'STM32H7B3'),
  ('BDMA2', 'Basic direct memory access controller', 0x58025400, 0x0, 0x400, 'STM32H7B3'),
  ('CAN_CCU', 'FDCAN1', 0x4000A800, 0x0, 0x400, 'STM32H7B3'),
  ('CEC', 'CEC', 0x40006C00, 0x0, 0x400, 'STM32H7B3'),
  ('COMP1', 'COMP1', 0x58003800, 0x0, 0x400, 'STM32H7B3'),
  ('CRC', 'Cryptographic processor', 0x40023000, 0x0, 0x400, 'STM32H7B3'),
  ('CRS', 'CRS', 0x40008400, 0x0, 0x400, 'STM32H7B3'),
  ('CRYP', 'Cryptographic processor', 0x48021000, 0x0, 0x400, 'STM32H7B3'),
  ('DAC1', 'Digital-to-analog converter', 0x40007400, 0x0, 0x400, 'STM32H7B3'),
  ('DAC2', 'Digital-to-analog converter', 0x58003400, 0x0, 0x400, 'STM32H7B3'),
  ('DBGMCU', 'Microcontroller Debug Unit', 0x5C001000, 0x0, 0x400, 'STM32H7B3'),
  ('DCMI', 'Digital camera interface', 0x48020000, 0x0, 0x400, 'STM32H7B3'),
  ('DELAY_Block_SDMMC1', 'DELAY_Block_SDMMC1', 0x52008000, 0x0, 0x400, 'STM32H7B3'),
  ('DELAY_Block_SDMMC2', 'DELAY_Block_SDMMC1', 0x48022800, 0x0, 0x400, 'STM32H7B3'),
  ('DFSDM1', 'Digital filter for sigma delta
        modulators', 0x40017800, 0x0, 0x4bc, 'STM32H7B3'),
  ('DFSDM2', 'Digital filter for sigma delta
        modulators', 0x58006C00, 0x0, 0x4bc, 'STM32H7B3'),
  ('DMA1', 'DMA controller', 0x40020000, 0x0, 0x400, 'STM32H7B3'),
  ('DMA2', 'DMA controller', 0x40020400, 0x0, 0x400, 'STM32H7B3'),
  ('DMA2D', 'DMA2D', 0x52001000, 0x0, 0x400, 'STM32H7B3'),
  ('DMAMUX1', 'DMAMUX', 0x40020800, 0x0, 0x400, 'STM32H7B3'),
  ('DMAMUX2', 'DMAMUX', 0x58025800, 0x0, 0x400, 'STM32H7B3'),
  ('Delay_Block_OCTOSPI1', 'DELAY_Block_SDMMC1', 0x52006000, 0x0, 0x400, 'STM32H7B3'),
  ('Delay_Block_OCTOSPI2', 'DELAY_Block_SDMMC1', 0x5200B000, 0x0, 0x400, 'STM32H7B3'),
  ('EXTI', 'External interrupt/event
      controller', 0x58000000, 0x0, 0x400, 'STM32H7B3'),
  ('FDCAN', 'FDCAN1', 0x4000A400, 0x0, 0x400, 'STM32H7B3'),
  ('FMC', 'FMC', 0x52004000, 0x0, 0x400, 'STM32H7B3'),
  ('Flash', 'Embedded Flash memory', 0x52002000, 0x0, 0x1000, 'STM32H7B3'),
  ('GPIOA', 'GPIO', 0x58020000, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOB', 'GPIO', 0x58020400, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOC', 'GPIO', 0x58020800, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOD', 'GPIO', 0x58020C00, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOE', 'GPIO', 0x58021000, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOF', 'GPIO', 0x58021400, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOG', 'GPIO', 0x58021800, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOH', 'GPIO', 0x58021C00, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOI', 'GPIO', 0x58022000, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOJ', 'GPIO', 0x58022400, 0x0, 0x400, 'STM32H7B3'),
  ('GPIOK', 'GPIO', 0x58022800, 0x0, 0x400, 'STM32H7B3'),
  ('HASH', 'Hash processor', 0x48021400, 0x0, 0x400, 'STM32H7B3'),
  ('HRTIM_Common', 'High Resolution Timer: Common
      functions', 0x40017780, 0x0, 0x80, 'STM32H7B3'),
  ('HRTIM_Master', 'High Resolution Timer: Master
      Timers', 0x40017400, 0x0, 0x80, 'STM32H7B3'),
  ('HRTIM_TIMA', 'High Resolution Timer: TIMA', 0x40017480, 0x0, 0x80, 'STM32H7B3'),
  ('HRTIM_TIMB', 'High Resolution Timer: TIMB', 0x40017500, 0x0, 0x80, 'STM32H7B3'),
  ('HRTIM_TIMC', 'High Resolution Timer: TIMC', 0x40017580, 0x0, 0x80, 'STM32H7B3'),
  ('HRTIM_TIMD', 'High Resolution Timer: TIMD', 0x40017600, 0x0, 0x80, 'STM32H7B3'),
  ('HRTIM_TIME', 'High Resolution Timer: TIME', 0x40017680, 0x0, 0x80, 'STM32H7B3'),
  ('HSEM', 'HSEM', 0x48020800, 0x0, 0x400, 'STM32H7B3'),
  ('I2C1', 'I2C1', 0x40005400, 0x0, 0x400, 'STM32H7B3'),
  ('I2C2', 'I2C1', 0x40005800, 0x0, 0x400, 'STM32H7B3'),
  ('I2C3', 'I2C3', 0x40005C00, 0x0, 0x400, 'STM32H7B3'),
  ('I2C4', 'I2C3', 0x58001C00, 0x0, 0x400, 'STM32H7B3'),
  ('IWDG', 'IWDG', 0x58004800, 0x0, 0x400, 'STM32H7B3'),
  ('JPEG', 'JPEG', 0x52003000, 0x0, 0x400, 'STM32H7B3'),
  ('LPTIM1', 'Low power timer', 0x40002400, 0x0, 0x400, 'STM32H7B3'),
  ('LPTIM2', 'Low power timer', 0x58002400, 0x0, 0x400, 'STM32H7B3'),
  ('LPTIM3', 'Low power timer', 0x58002800, 0x0, 0x400, 'STM32H7B3'),
  ('LPUART1', 'LPUART1', 0x58000C00, 0x0, 0x400, 'STM32H7B3'),
  ('LTDC', 'LCD-TFT Controller', 0x50001000, 0x0, 0x1000, 'STM32H7B3'),
  ('MDIOS', 'Management data input/output slave', 0x40009400, 0x0, 0x400, 'STM32H7B3'),
  ('MDMA', 'MDMA', 0x52000000, 0x0, 0x1000, 'STM32H7B3'),
  ('OCTOSPI2', 'OctoSPI', 0x5200A000, 0x0, 0x1000, 'STM32H7B3'),
  ('OCTOSPI1', 'OctoSPI', 0x52005000, 0x0, 0x1000, 'STM32H7B3'),
  ('OPAMP', 'Operational amplifiers', 0x40009000, 0x0, 0x400, 'STM32H7B3'),
  ('OTFDEC1', 'On-The-Fly Decryption engine', 0x5200B800, 0x0, 0x400, 'STM32H7B3'),
  ('OTFDEC2', 'On-The-Fly Decryption engine', 0x5200BC00, 0x0, 0x400, 'STM32H7B3'),
  ('OTG1_HS_DEVICE', 'USB 1 on the go high speed', 0x40040800, 0x0, 0x400, 'STM32H7B3'),
  ('OTG1_HS_GLOBAL', 'USB 1 on the go high speed', 0x40040000, 0x0, 0x400, 'STM32H7B3'),
  ('OTG1_HS_HOST', 'USB 1 on the go high speed', 0x40040400, 0x0, 0x400, 'STM32H7B3'),
  ('OTG1_HS_PWRCLK', 'USB 1 on the go high speed', 0x40040E00, 0x0, 0x3F200, 'STM32H7B3'),
  ('OctoSPII_O_Manager', 'OctoSPI IO Manager', 0x5200B400, 0x0, 0x400, 'STM32H7B3'),
  ('PSSI', 'Parallel synchronous slave interface', 0x48020400, 0x0, 0x6b, 'STM32H7B3'),
  ('PWR', 'PWR', 0x58024800, 0x0, 0x400, 'STM32H7B3'),
  ('RAMECC', 'ECC controller is associated to each RAM
      area', 0x52009000, 0x0, 0x400, 'STM32H7B3'),
  ('RCC', 'Reset and clock control', 0x58024400, 0x0, 0x180, 'STM32H7B3'),
  ('RNG', 'RNG', 0x48021800, 0x0, 0x400, 'STM32H7B3'),
  ('RTC', 'RTC', 0x58004000, 0x0, 0x400, 'STM32H7B3'),
  ('SAI1', 'SAI', 0x40015800, 0x0, 0x400, 'STM32H7B3'),
  ('SAI2', 'SAI', 0x40015C00, 0x0, 0x400, 'STM32H7B3'),
  ('SDMMC1', 'SDMMC1', 0x52007000, 0x0, 0x3FD, 'STM32H7B3'),
  ('SDMMC2', 'SDMMC1', 0x48022400, 0x0, 0x3FD, 'STM32H7B3'),
  ('SPDIFRX', 'Receiver Interface', 0x40004000, 0x0, 0x400, 'STM32H7B3'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32H7B3'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32H7B3'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32H7B3'),
  ('SPI4', 'Serial peripheral interface', 0x40013400, 0x0, 0x400, 'STM32H7B3'),
  ('SPI5', 'Serial peripheral interface', 0x40015000, 0x0, 0x400, 'STM32H7B3'),
  ('SPI6', 'Serial peripheral interface', 0x58001400, 0x0, 0x400, 'STM32H7B3'),
  ('SWPMI', 'Single Wire Protocol Master
      Interface', 0x40008800, 0x0, 0x400, 'STM32H7B3'),
  ('SYSCFG', 'System configuration controller', 0x58000400, 0x0, 0x400, 'STM32H7B3'),
  ('TAMP', 'Tamper and backup', 0x58004400, 0x0, 0x400, 'STM32H7B3'),
  ('TIM1', 'Advanced-timers', 0x40010000, 0x0, 0x400, 'STM32H7B3'),
  ('TIM2', 'General purpose timers', 0x40000000, 0x0, 0x400, 'STM32H7B3'),
  ('TIM3', 'General purpose timers', 0x40000400, 0x0, 0x400, 'STM32H7B3'),
  ('TIM4', 'General purpose timers', 0x40000800, 0x0, 0x400, 'STM32H7B3'),
  ('TIM5', 'General purpose timers', 0x40000C00, 0x0, 0x400, 'STM32H7B3'),
  ('TIM6', 'Basic timers', 0x40001000, 0x0, 0x400, 'STM32H7B3'),
  ('TIM7', 'Basic timers', 0x40001400, 0x0, 0x400, 'STM32H7B3'),
  ('TIM8', 'Advanced-timers', 0x40010400, 0x0, 0x400, 'STM32H7B3'),
  ('TIM12', 'General purpose timers', 0x40001800, 0x0, 0x400, 'STM32H7B3'),
  ('TIM13', 'General purpose timers', 0x40001C00, 0x0, 0x400, 'STM32H7B3'),
  ('TIM14', 'General purpose timers', 0x40002000, 0x0, 0x400, 'STM32H7B3'),
  ('TIM15', 'General purpose timers', 0x40014000, 0x0, 0x400, 'STM32H7B3'),
  ('TIM16', 'General-purpose-timers', 0x40014400, 0x0, 0x400, 'STM32H7B3'),
  ('TIM17', 'General-purpose-timers', 0x40014800, 0x0, 0x400, 'STM32H7B3'),
  ('TT_FDCAN', 'FDCAN1', 0x4000A000, 0x0, 0x400, 'STM32H7B3'),
  ('UART4', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004C00, 0x0, 0x400, 'STM32H7B3'),
  ('UART5', 'Universal synchronous asynchronous receiver
      transmitter', 0x40005000, 0x0, 0x400, 'STM32H7B3'),
  ('UART7', 'Universal synchronous asynchronous receiver
      transmitter', 0x40007800, 0x0, 0x400, 'STM32H7B3'),
  ('UART8', 'Universal synchronous asynchronous receiver
      transmitter', 0x40007C00, 0x0, 0x400, 'STM32H7B3'),
  ('USART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x40011000, 0x0, 0x400, 'STM32H7B3'),
  ('USART2', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004400, 0x0, 0x400, 'STM32H7B3'),
  ('USART3', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004800, 0x0, 0x400, 'STM32H7B3'),
  ('USART6', 'Universal synchronous asynchronous receiver
      transmitter', 0x40011400, 0x0, 0x400, 'STM32H7B3'),
  ('USART9', 'Universal synchronous asynchronous receiver
      transmitter', 0x40011800, 0x0, 0x400, 'STM32H7B3'),
  ('USART10', 'Universal synchronous asynchronous receiver
      transmitter', 0x40011C00, 0x0, 0x400, 'STM32H7B3'),
  ('VREFBUF', 'VREFBUF', 0x58003C00, 0x0, 0x400, 'STM32H7B3'),
  ('WWDG', 'WWDG', 0x50003000, 0x0, 0x400, 'STM32H7B3');
