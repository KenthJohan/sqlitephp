-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC4', 'ADC register block', 0x46021000, 0x0, 0x400, 'STM32WBA50'),
  ('AES', 'Advanced encryption standard hardware accelerator', 0x420C0000, 0x0, 0x400, 'STM32WBA50'),
  ('CRC', 'CRC register block', 0x40023000, 0x0, 0x18, 'STM32WBA50'),
  ('DBGMCU', 'DBGMCU address block description', 0xE0044000, 0x0, 0x1000, 'STM32WBA50'),
  ('EXTI', 'External interrupt/event controller', 0x46022000, 0x0, 0x400, 'STM32WBA50'),
  ('FLASH', 'Embedded Flash memory', 0x40022000, 0x0, 0x400, 'STM32WBA50'),
  ('GPDMA', 'General purpose direct memory access controller', 0x40020000, 0x0, 0x1000, 'STM32WBA50'),
  ('GPIOA', 'General-purpose I/Os', 0x42020000, 0x0, 0x400, 'STM32WBA50'),
  ('GPIOB', 'General-purpose I/Os', 0x42020400, 0x0, 0x400, 'STM32WBA50'),
  ('GPIOC', 'General-purpose I/Os', 0x42020800, 0x0, 0x400, 'STM32WBA50'),
  ('GPIOH', 'General-purpose I/Os', 0x42021C00, 0x0, 0x400, 'STM32WBA50'),
  ('HASH', 'HASH register block', 0x420C0400, 0x0, 0x400, 'STM32WBA50'),
  ('HSEM', 'Hardware semaphore', 0x420C1C00, 0x0, 0x400, 'STM32WBA50'),
  ('ICACHE', 'Instruction cache', 0x40030400, 0x0, 0x400, 'STM32WBA50'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32WBA50'),
  ('I2C3', 'Inter-integrated circuit', 0x46002800, 0x0, 0x400, 'STM32WBA50'),
  ('LPTIM1', 'Low power timer', 0x46004400, 0x0, 0x400, 'STM32WBA50'),
  ('LPUART1', 'LPUART address block description', 0x46002400, 0x0, 0x34, 'STM32WBA50'),
  ('PKA', 'Private key accelerator', 0x420C2000, 0x0, 0x2000, 'STM32WBA50'),
  ('PWR', 'Power control', 0x46020800, 0x0, 0x400, 'STM32WBA50'),
  ('RAMCFG', 'RAMs configuration controller', 0x40026000, 0x0, 0x1000, 'STM32WBA50'),
  ('RCC', 'Reset and clock control', 0x46020C00, 0x0, 0x400, 'STM32WBA50'),
  ('RNG', 'RNG register block', 0x420C0800, 0x0, 0x400, 'STM32WBA50'),
  ('RTC', 'Real-time clock', 0x46007800, 0x0, 0x400, 'STM32WBA50'),
  ('SPI3', 'Serial peripheral interface', 0x46002000, 0x0, 0x400, 'STM32WBA50'),
  ('SYSCFG', 'System configuration controller', 0x46000400, 0x0, 0x400, 'STM32WBA50'),
  ('TAMP', 'Tamper and backup registers', 0x46007C00, 0x0, 0x400, 'STM32WBA50'),
  ('TIM1', 'TIM1 address block description', 0x40012C00, 0x0, 0x3E4, 'STM32WBA50'),
  ('TIM2', 'TIM2 address block description', 0x40000000, 0x0, 0x3E4, 'STM32WBA50'),
  ('TIM16', 'TIM16 address block description', 0x40014400, 0x0, 0x3E4, 'STM32WBA50'),
  ('TSC', 'Touch sensing controller', 0x40024000, 0x0, 0x400, 'STM32WBA50'),
  ('USART1', 'USART register block', 0x40013800, 0x0, 0x400, 'STM32WBA50'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32WBA50');
