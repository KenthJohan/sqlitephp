-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('DAC', 'Digital-to-analog converter', 0x40007400, 0x0, 0x400, 'STM32L4R5'),
  ('DMA1', 'Direct memory access controller', 0x40020000, 0x0, 0x400, 'STM32L4R5'),
  ('DMAMUX1', 'DMA request multiplexer', 0x40020800, 0x0, 0x400, 'STM32L4R5'),
  ('DMA2', 'Direct memory access controller', 0x40020400, 0x0, 0x400, 'STM32L4R5'),
  ('CRC', 'Cyclic redundancy check calculation
      unit', 0x40023000, 0x0, 0x400, 'STM32L4R5'),
  ('LTCD', 'Liquid crystal display controller', 0x40016800, 0x0, 0x400, 'STM32L4R5'),
  ('TSC', 'Touch sensing controller', 0x40024000, 0x0, 0x400, 'STM32L4R5'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32L4R5'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32L4R5'),
  ('COMP', 'Comparator', 0x40010200, 0x0, 0x200, 'STM32L4R5'),
  ('FIREWALL', 'Firewall', 0x40011C00, 0x0, 0x400, 'STM32L4R5'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32L4R5'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32L4R5'),
  ('I2C3', 'Inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32L4R5'),
  ('I2C4', 'Inter-integrated circuit', 0x40008400, 0x0, 0x400, 'STM32L4R5'),
  ('FLASH', 'Flash', 0x40022000, 0x0, 0x400, 'STM32L4R5'),
  ('DBGMCU', 'Debug support', 0xE0042000, 0x0, 0x400, 'STM32L4R5'),
  ('OCTOSPI1', 'OctoSPI', 0xA0001000, 0x0, 0x400, 'STM32L4R5'),
  ('OCTOSPI2', 'OctoSPI', 0xA0001400, 0x0, 0x400, 'STM32L4R5'),
  ('RCC', 'Reset and clock control', 0x40021000, 0x0, 0x400, 'STM32L4R5'),
  ('PWR', 'Power control', 0x40007000, 0x0, 0x400, 'STM32L4R5'),
  ('SYSCFG', 'System configuration controller', 0x40010000, 0x0, 0x30, 'STM32L4R5'),
  ('DFSDM1', 'Digital filter for sigma delta
      modulators', 0x40016000, 0x0, 0x500, 'STM32L4R5'),
  ('RNG', 'Random number generator', 0x50060800, 0x0, 0x400, 'STM32L4R5'),
  ('AES', 'Advanced encryption standard hardware
      accelerator', 0x50060000, 0x0, 0x400, 'STM32L4R5'),
  ('ADC', 'Analog-to-Digital Converter', 0x50040000, 0x0, 0xB9, 'STM32L4R5'),
  ('ADC_Common', 'Analog-to-Digital Converter', 0x50040300, 0x0, 0x11, 'STM32L4R5'),
  ('GPIOA', 'General-purpose I/Os', 0x48000000, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOB', 'General-purpose I/Os', 0x48000400, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOC', 'General-purpose I/Os', 0x48000800, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOD', 'General-purpose I/Os', 0x48000C00, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOE', 'General-purpose I/Os', 0x48001000, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOF', 'General-purpose I/Os', 0x48001400, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOG', 'General-purpose I/Os', 0x48001800, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOH', 'General-purpose I/Os', 0x48001C00, 0x0, 0x400, 'STM32L4R5'),
  ('GPIOI', 'General-purpose I/Os', 0x48002000, 0x0, 0x400, 'STM32L4R5'),
  ('SAI1', 'Serial audio interface', 0x40015400, 0x0, 0x400, 'STM32L4R5'),
  ('SAI2', 'Serial audio interface', 0x40015800, 0x0, 0x400, 'STM32L4R5'),
  ('TIM1', 'Advanced-timers', 0x40012C00, 0x0, 0x400, 'STM32L4R5'),
  ('TIM2', 'General-purpose-timers', 0x40000000, 0x0, 0x400, 'STM32L4R5'),
  ('TIM3', 'General-purpose-timers', 0x40000400, 0x0, 0x400, 'STM32L4R5'),
  ('TIM4', 'General-purpose-timers', 0x40000800, 0x0, 0x400, 'STM32L4R5'),
  ('TIM5', 'General-purpose-timers', 0x40000C00, 0x0, 0x400, 'STM32L4R5'),
  ('TIM6', 'TIM6 address block description', 0x40001000, 0x0, 0x400, 'STM32L4R5'),
  ('TIM7', 'TIM7 address block description', 0x40001400, 0x0, 0x400, 'STM32L4R5'),
  ('TIM8', 'Advanced-timers', 0x40013400, 0x0, 0x400, 'STM32L4R5'),
  ('TIM15', 'General purpose timers', 0x40014000, 0x0, 0x400, 'STM32L4R5'),
  ('TIM16', 'General purpose timers', 0x40014400, 0x0, 0x400, 'STM32L4R5'),
  ('TIM17', 'General purpose timers', 0x40014800, 0x0, 0x400, 'STM32L4R5'),
  ('LPTIM1', 'Low power timer', 0x40007C00, 0x0, 0x400, 'STM32L4R5'),
  ('LPTIM2', 'Low power timer', 0x40009400, 0x0, 0x400, 'STM32L4R5'),
  ('USART1', 'Universal synchronous asynchronous receiver transmitter', 0x40013800, 0x0, 0x400, 'STM32L4R5'),
  ('USART2', 'Universal synchronous asynchronous receiver transmitter', 0x40004400, 0x0, 0x400, 'STM32L4R5'),
  ('USART3', 'Universal synchronous asynchronous receiver transmitter', 0x40004800, 0x0, 0x400, 'STM32L4R5'),
  ('UART4', 'Universal synchronous asynchronous receiver transmitter', 0x40004C00, 0x0, 0x400, 'STM32L4R5'),
  ('UART5', 'Universal synchronous asynchronous receiver transmitter', 0x40005000, 0x0, 0x400, 'STM32L4R5'),
  ('LPUART1', 'Universal synchronous asynchronous receiver transmitter', 0x40008000, 0x0, 0x400, 'STM32L4R5'),
  ('SPI1', 'Serial peripheral interface/Inter-IC
      sound', 0x40013000, 0x0, 0x400, 'STM32L4R5'),
  ('SPI2', 'Serial peripheral interface/Inter-IC
      sound', 0x40003800, 0x0, 0x400, 'STM32L4R5'),
  ('SPI3', 'Serial peripheral interface/Inter-IC
      sound', 0x40003C00, 0x0, 0x400, 'STM32L4R5'),
  ('SDMMC1', 'Secure digital input/output
      interface', 0x50062400, 0x0, 0x400, 'STM32L4R5'),
  ('EXTI', 'External interrupt/event
      controller', 0x40010400, 0x0, 0x400, 'STM32L4R5'),
  ('VREFBUF', 'Voltage reference buffer', 0x40010030, 0x0, 0x1D0, 'STM32L4R5'),
  ('CAN1', 'Controller area network', 0x40006400, 0x0, 0x400, 'STM32L4R5'),
  ('RTC', 'Real-time clock', 0x40002800, 0x0, 0x400, 'STM32L4R5'),
  ('OTG_FS_GLOBAL', 'USB on the go full speed', 0x50000000, 0x0, 0x400, 'STM32L4R5'),
  ('OTG_FS_HOST', 'USB on the go full speed', 0x50000400, 0x0, 0x400, 'STM32L4R5'),
  ('OTG_FS_DEVICE', 'USB on the go full speed', 0x50000800, 0x0, 0x400, 'STM32L4R5'),
  ('OTG_FS_PWRCLK', 'USB on the go full speed', 0x50000E00, 0x0, 0x400, 'STM32L4R5'),
  ('SWPMI1', 'Single Wire Protocol Master
      Interface', 0x40008800, 0x0, 0x400, 'STM32L4R5'),
  ('OPAMP', 'Operational amplifiers', 0x40007800, 0x0, 0x400, 'STM32L4R5'),
  ('FMC', 'Flexible memory controller', 0xA0000000, 0x0, 0x400, 'STM32L4R5'),
  ('CRS', 'Clock recovery system', 0x40006000, 0x0, 0x400, 'STM32L4R5'),
  ('DCMI', 'Digital camera interface', 0x50050000, 0x0, 0x400, 'STM32L4R5'),
  ('HASH', 'Hash processor', 0x50060400, 0x0, 0x400, 'STM32L4R5'),
  ('DMA2D', 'DMA2D controller', 0x4002B000, 0x0, 0xC00, 'STM32L4R5'),
  ('GFXMMU', 'Graphic MMU', 0x4002C000, 0x0, 0x3000, 'STM32L4R5'),
  ('OCTOSPIM', 'OctoSPI IO Manager', 0x50061C00, 0x0, 0x400, 'STM32L4R5');
