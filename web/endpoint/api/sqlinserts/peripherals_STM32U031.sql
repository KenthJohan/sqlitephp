-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC', 'ADC address block description', 0x40012400, 0x0, 0x30C, 'STM32U031'),
  ('COMP1', 'COMP address block description', 0x40010200, 0x0, 0x8, 'STM32U031'),
  ('CRC', 'CRC address block description', 0x40023000, 0x0, 0x18, 'STM32U031'),
  ('DAC', 'DAC address block description', 0x40007400, 0x0, 0x50, 'STM32U031'),
  ('DBGMCU', 'DBGMCU register block', 0x40015800, 0x0, 0x1000, 'STM32U031'),
  ('DMAMUX', 'DMAMUX address block description', 0x40020800, 0x0, 0x148, 'STM32U031'),
  ('DMA1', 'DMA register bank', 0x40020000, 0x0, 0x400, 'STM32U031'),
  ('DMA2', 'DMA register bank', 0x40020400, 0x0, 0x400, 'STM32U031'),
  ('EXTI', 'EXTI register block', 0x40021800, 0x0, 0x400, 'STM32U031'),
  ('FLASH', 'Mamba FLASH register block', 0x40022000, 0x0, 0x400, 'STM32U031'),
  ('GPIOA', 'GPIOA address block description', 0x50000000, 0x0, 0x2C, 'STM32U031'),
  ('GPIOB', 'GPIOB address block description', 0x50000400, 0x0, 0x2C, 'STM32U031'),
  ('GPIOC', 'GPIOC address block description', 0x50000800, 0x0, 0x2C, 'STM32U031'),
  ('GPIOD', 'GPIOD address block description', 0x50000C00, 0x0, 0x2C, 'STM32U031'),
  ('GPIOE', 'GPIOE address block description', 0x50001000, 0x0, 0x2C, 'STM32U031'),
  ('GPIOF', 'GPIOF address block description', 0x50001400, 0x0, 0x2C, 'STM32U031'),
  ('IWDG', 'IWDG address block description', 0x40003000, 0x0, 0x18, 'STM32U031'),
  ('I2C1', 'I2C address block description', 0x40005400, 0x0, 0x2C, 'STM32U031'),
  ('I2C2', 'I2C address block description', 0x40005800, 0x0, 0x2C, 'STM32U031'),
  ('I2C3', 'I2C address block description', 0x40008800, 0x0, 0x2C, 'STM32U031'),
  ('LPTIM1', 'LPTIM1 address block description', 0x40007C00, 0x0, 0x400, 'STM32U031'),
  ('LPTIM2', 'LPTIM2 address block description', 0x40009400, 0x0, 0x400, 'STM32U031'),
  ('LPUART1', 'LPUART address block description', 0x40008000, 0x0, 0x30, 'STM32U031'),
  ('LPUART2', 'LPUART address block description', 0x40008400, 0x0, 0x30, 'STM32U031'),
  ('OPAMP', 'OPAMP address block description', 0x40007800, 0x0, 0xC, 'STM32U031'),
  ('PWR', 'PWR register block', 0x40007000, 0x0, 0x400, 'STM32U031'),
  ('RCC', 'RCC address block description', 0x40021000, 0x0, 0x9C, 'STM32U031'),
  ('RNG', 'RNG address block description', 0x40025000, 0x0, 0x14, 'STM32U031'),
  ('RTC', 'RTC register block', 0x40002800, 0x0, 0x400, 'STM32U031'),
  ('SPI1', 'SPI address block description', 0x40013000, 0x0, 0x400, 'STM32U031'),
  ('SPI2', 'SPI address block description', 0x40003800, 0x0, 0x400, 'STM32U031'),
  ('SYSCFG', 'SYSCFG register block', 0x40010000, 0x0, 0x400, 'STM32U031'),
  ('TAMP', 'TAMP register block', 0x4000B000, 0x0, 0x400, 'STM32U031'),
  ('TIM1', 'TIM1 address block description', 0x40012C00, 0x0, 0x6C, 'STM32U031'),
  ('TIM2', 'TIM2 address block description', 0x40000000, 0x0, 0x6C, 'STM32U031'),
  ('TIM3', 'TIM3 address block description', 0x40000400, 0x0, 0x6C, 'STM32U031'),
  ('TIM6', 'TIM6 address block description', 0x40001000, 0x0, 0x30, 'STM32U031'),
  ('TIM7', 'TIM7 address block description', 0x40001400, 0x0, 0x30, 'STM32U031'),
  ('TIM15', 'TIM15 address block description', 0x40014000, 0x0, 0x6C, 'STM32U031'),
  ('TIM16', 'TIM16 address block description', 0x40014400, 0x0, 0x6C, 'STM32U031'),
  ('TSC', 'TSC address block description', 0x40024000, 0x0, 0x50, 'STM32U031'),
  ('USART1', 'USART address block description', 0x40013800, 0x0, 0x30, 'STM32U031'),
  ('USART2', 'USART address block description', 0x40004400, 0x0, 0x30, 'STM32U031'),
  ('USART3', 'USART address block description', 0x40004800, 0x0, 0x30, 'STM32U031'),
  ('USART4', 'USART address block description', 0x40004C00, 0x0, 0x30, 'STM32U031'),
  ('VREFBUF', 'VREFBUF address block description', 0x40010030, 0x0, 0x8, 'STM32U031'),
  ('WWDG', 'WWDG address block description', 0x40002C00, 0x0, 0xC, 'STM32U031');
