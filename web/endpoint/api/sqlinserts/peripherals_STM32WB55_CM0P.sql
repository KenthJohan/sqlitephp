-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('DMA1', 'Direct memory access controller', 0x40020000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('DMA2', 'Direct memory access controller', 0x40020400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('DMAMUX1', 'Direct memory access Multiplexer', 0x40020800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('CRC', 'Cyclic redundancy check calculation       unit', 0x40023000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('LCD', 'Liquid crystal display controller', 0x40002400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('TSC', 'Touch sensing controller', 0x40024000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('I2C3', 'Inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('Flash', 'Flash', 0x58004000, 0x0, 0x90, 'STM32WB55_CM0P'),
  ('QUADSPI', 'QuadSPI interface', 0xA0001000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('RCC', 'Reset and clock control', 0x58000000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('PWR', 'Power control', 0x58000400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('SYSCFG_VREFBUF', 'SYSCFG_VREFBUF', 0x40010000, 0x0, 0x200, 'STM32WB55_CM0P'),
  ('COMP', 'Comparator instance 1', 0x40010200, 0x0, 0x9, 'STM32WB55_CM0P'),
  ('RNG', 'Random number generator', 0x58001000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('AES1', 'Advanced encryption standard hardware       accelerator 1', 0x50060000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('AES2', 'Advanced encryption standard hardware       accelerator 1', 0x58001800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('HSEM', 'HSEM', 0x58001400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('ADC', 'Analog to Digital Converter instance       1', 0x50040000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('GPIOA', 'General-purpose I/Os', 0x48000000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('GPIOB', 'General-purpose I/Os', 0x48000400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('GPIOC', 'General-purpose I/Os', 0x48000800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('GPIOD', 'General-purpose I/Os', 0x48000C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('GPIOE', 'General-purpose I/Os', 0x48001000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('GPIOH', 'General-purpose I/Os', 0x48001C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('SAI1', 'Serial audio interface', 0x40015400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('TIM2', 'General-purpose-timers', 0x40000000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('TIM16', 'General purpose timers', 0x40014400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('TIM17', 'General purpose timers', 0x40014800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('TIM1', 'Advanced-timers', 0x40012C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('LPTIM1', 'Low power timer', 0x40007C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('LPTIM2', 'Low power timer', 0x40009400, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('USART1', 'Universal synchronous asynchronous receiver       transmitter', 0x40013800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('LPUART1', 'Universal synchronous asynchronous receiver       transmitter', 0x40008000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('SPI1', 'Serial peripheral interface/Inter-IC       sound', 0x40013000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('SPI2', 'Serial peripheral interface/Inter-IC       sound', 0x40003800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('RTC', 'Real-time clock', 0x40002800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('DBGMCU', 'Debug support', 0xE0042000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('PKA', 'PKA', 0x58002000, 0x0, 0x2000, 'STM32WB55_CM0P'),
  ('IPCC', 'IPCC', 0x58000C00, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('EXTI', 'External interrupt/event       controller', 0x58000800, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('CRS', 'Clock recovery system', 0x40006000, 0x0, 0x400, 'STM32WB55_CM0P'),
  ('USB', 'Universal serial bus full-speed device       interface', 0x40006800, 0x0, 0x800, 'STM32WB55_CM0P');
