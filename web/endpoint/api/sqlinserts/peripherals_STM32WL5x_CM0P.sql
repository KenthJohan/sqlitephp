-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC', 'Analog to digital convertor', 0x40012400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('AES', 'Advanced encryption standard hardware       accelerator 1', 0x58001800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('COMP', 'Comparator', 0x40010200, 0x0, 0x200, 'STM32WL5x_CM0P'),
  ('CRC', 'Cyclic redundancy check calculation       unit', 0x40023000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('DAC', 'Digital-to-analog converter', 0x40007400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('DMA1', 'Direct memory access controller', 0x40020000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('DMA2', 'Direct memory access controller', 0x40020400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('DMAMUX', 'DMA request multiplexer', 0x40020800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('EXTI', 'External interrupt/event       controller', 0x58000800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('FLASH', 'Flash', 0x58004000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('GPIOA', 'General-purpose I/Os', 0x48000000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('GPIOB', 'General-purpose I/Os', 0x48000400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('GPIOC', 'General-purpose I/Os', 0x48000800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('GPIOH', 'General-purpose I/Os', 0x48001C00, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('HSEM', 'Hardware semaphore', 0x58001400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('I2C3', 'Inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('IPCC', 'Inter Processor communication       controller', 0x58000C00, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('LPTIM1', 'Low-power timer', 0x40007C00, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('LPTIM2', 'Low-power timer', 0x40009400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('LPTIM3', 'Low-power timer', 0x40009800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('LPUART', 'Universal synchronous asynchronous receiver       transmitter', 0x40008000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('PKA', 'Public key accelerator', 0x58002000, 0x0, 0x2000, 'STM32WL5x_CM0P'),
  ('PWR', 'Power control', 0x58000400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('RCC', 'Reset and clock control', 0x58000000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('RNG', 'True random number generator', 0x58001000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('RTC', 'Real-time clock', 0x40002800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('SPI1', 'Serial peripheral interface/Inter-IC       sound', 0x40013000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('SPI2', 'Serial peripheral interface/Inter-IC       sound', 0x40003800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('SPI3', 'Serial peripheral interface/Inter-IC       sound', 0x58010000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('SYSCFG', 'System configuration controller', 0x40010000, 0x0, 0x30, 'STM32WL5x_CM0P'),
  ('SYSCFG_continue', 'System configuration controller', 0x40010100, 0x0, 0x100, 'STM32WL5x_CM0P'),
  ('TAMP', 'Tamper and backup registers', 0x4000B000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('TIM1', 'Advanced-control timers', 0x40012C00, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('TIM2', 'General-purpose-timers', 0x40000000, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('TIM16', 'General-purpose timers', 0x40014400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('TIM17', 'General-purpose timers', 0x40014800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('TZIC', 'TrustZone Interrupt Control', 0x58004800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('TZSC', 'Global TrustZone Controller', 0x58004400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('USART1', 'Universal synchronous asynchronous receiver       transmitter', 0x40013800, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('USART2', 'Universal synchronous asynchronous receiver       transmitter', 0x40004400, 0x0, 0x400, 'STM32WL5x_CM0P'),
  ('VREFBUF', 'Voltage reference buffer', 0x40010030, 0x0, 0xD0, 'STM32WL5x_CM0P'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32WL5x_CM0P');
