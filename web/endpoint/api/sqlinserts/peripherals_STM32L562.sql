-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC1', 'Analog-to-Digital Converter', 0x42028000, 0x0, 0xB8, 'STM32L562'),
  ('SEC_ADC1', 'Analog-to-Digital Converter', 0x52028000, 0x0, 0xB8, 'STM32L562'),
  ('ADC2', 'Analog-to-Digital Converter', 0x42028100, 0x0, 0xB8, 'STM32L562'),
  ('SEC_ADC2', 'Analog-to-Digital Converter', 0x52028100, 0x0, 0xB8, 'STM32L562'),
  ('ADC_Common', 'Analog-to-Digital Converter', 0x42028300, 0x0, 0x10, 'STM32L562'),
  ('SEC_ADC_Common', 'Analog-to-Digital Converter', 0x52028300, 0x0, 0x10, 'STM32L562'),
  ('AES', 'Advanced encryption standard hardware
      accelerator 1', 0x420C0000, 0x0, 0x400, 'STM32L562'),
  ('SEC_AES', 'Advanced encryption standard hardware
      accelerator 1', 0x520C0000, 0x0, 0x400, 'STM32L562'),
  ('COMP', 'Comparator', 0x40010200, 0x0, 0x200, 'STM32L562'),
  ('SEC_COMP', 'Comparator', 0x50010200, 0x0, 0x200, 'STM32L562'),
  ('CRC', 'Cyclic redundancy check calculation
      unit', 0x40023000, 0x0, 0x400, 'STM32L562'),
  ('SEC_CRC', 'Cyclic redundancy check calculation
      unit', 0x50023000, 0x0, 0x400, 'STM32L562'),
  ('CRS', 'Clock recovery system', 0x40006000, 0x0, 0x400, 'STM32L562'),
  ('SEC_CRS', 'Clock recovery system', 0x50006000, 0x0, 0x400, 'STM32L562'),
  ('DAC', 'DAC', 0x40007400, 0x0, 0x400, 'STM32L562'),
  ('SEC_DAC', 'DAC', 0x50007400, 0x0, 0x400, 'STM32L562'),
  ('DBGMCU', 'MCU debug component', 0xE0044000, 0x0, 0x400, 'STM32L562'),
  ('DCB', 'Debug Control Block', 0xE000EE08, 0x0, 0x5, 'STM32L562'),
  ('DMA1', 'Direct memory access controller', 0x40020000, 0x0, 0x400, 'STM32L562'),
  ('SEC_DMA1', 'Direct memory access controller', 0x50020000, 0x0, 0x400, 'STM32L562'),
  ('DMA2', 'Direct memory access controller', 0x40020400, 0x0, 0x400, 'STM32L562'),
  ('SEC_DMA2', 'Direct memory access controller', 0x50020400, 0x0, 0x400, 'STM32L562'),
  ('DFSDM1', 'Digital filter for sigma delta
      modulators', 0x40016000, 0x0, 0x800, 'STM32L562'),
  ('SEC_DFSDM1', 'Digital filter for sigma delta
      modulators', 0x50016000, 0x0, 0x800, 'STM32L562'),
  ('DMAMUX1', 'Direct memory access Multiplexer', 0x40020800, 0x0, 0x400, 'STM32L562'),
  ('SEC_DMAMUX1', 'Direct memory access Multiplexer', 0x50020800, 0x0, 0x400, 'STM32L562'),
  ('EXTI', 'External interrupt/event
      controller', 0x4002F400, 0x0, 0x400, 'STM32L562'),
  ('SEC_EXTI', 'External interrupt/event
      controller', 0x5002F400, 0x0, 0x400, 'STM32L562'),
  ('FDCAN1', 'FDCAN1', 0x4000A400, 0x0, 0xC00, 'STM32L562'),
  ('SEC_FDCAN1', 'FDCAN1', 0x5000A400, 0x0, 0xC00, 'STM32L562'),
  ('FLASH', 'Flash', 0x40022000, 0x0, 0x400, 'STM32L562'),
  ('SEC_FLASH', 'Flash', 0x50022000, 0x0, 0x400, 'STM32L562'),
  ('FMC', 'FMC', 0x44020000, 0x0, 0x400, 'STM32L562'),
  ('SEC_FMC', 'FMC', 0x54020000, 0x0, 0x400, 'STM32L562'),
  ('GPIOA', 'General-purpose I/Os', 0x42020000, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOA', 'General-purpose I/Os', 0x52020000, 0x0, 0x400, 'STM32L562'),
  ('GPIOB', 'General-purpose I/Os', 0x42020400, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOB', 'General-purpose I/Os', 0x52020400, 0x0, 0x400, 'STM32L562'),
  ('GPIOC', 'General-purpose I/Os', 0x42020800, 0x0, 0x400, 'STM32L562'),
  ('GPIOD', 'General-purpose I/Os', 0x42020C00, 0x0, 0x400, 'STM32L562'),
  ('GPIOE', 'General-purpose I/Os', 0x42021000, 0x0, 0x400, 'STM32L562'),
  ('GPIOF', 'General-purpose I/Os', 0x42021400, 0x0, 0x400, 'STM32L562'),
  ('GPIOG', 'General-purpose I/Os', 0x42021800, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOC', 'General-purpose I/Os', 0x52020800, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOD', 'General-purpose I/Os', 0x52020C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOE', 'General-purpose I/Os', 0x52021000, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOF', 'General-purpose I/Os', 0x52021400, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOG', 'General-purpose I/Os', 0x52021800, 0x0, 0x400, 'STM32L562'),
  ('GPIOH', 'General-purpose I/Os', 0x42021C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_GPIOH', 'General-purpose I/Os', 0x52021C00, 0x0, 0x400, 'STM32L562'),
  ('GTZC_MPCBB1', 'GTZC_MPCBB1', 0x40032C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_GTZC_MPCBB1', 'SEC_GTZC_MPCBB1', 0x50032C00, 0x0, 0x400, 'STM32L562'),
  ('GTZC_MPCBB2', 'GTZC_MPCBB2', 0x40033000, 0x0, 0x400, 'STM32L562'),
  ('SEC_GTZC_MPCBB2', 'SEC_GTZC_MPCBB2', 0x50033000, 0x0, 0x400, 'STM32L562'),
  ('GTZC_TZIC', 'GTZC_TZIC', 0x40032800, 0x0, 0x400, 'STM32L562'),
  ('SEC_GTZC_TZIC', 'GTZC_TZIC', 0x50032800, 0x0, 0x400, 'STM32L562'),
  ('GTZC_TZSC', 'GTZC_TZSC', 0x40032400, 0x0, 0x400, 'STM32L562'),
  ('SEC_GTZC_TZSC', 'GTZC_TZSC', 0x50032400, 0x0, 0x400, 'STM32L562'),
  ('HASH', 'Hash processor', 0x420C0400, 0x0, 0x400, 'STM32L562'),
  ('SEC_HASH', 'Hash processor', 0x520C0400, 0x0, 0x400, 'STM32L562'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32L562'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32L562'),
  ('I2C3', 'Inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32L562'),
  ('I2C4', 'Inter-integrated circuit', 0x40008400, 0x0, 0x400, 'STM32L562'),
  ('SEC_I2C1', 'Inter-integrated circuit', 0x50005400, 0x0, 0x400, 'STM32L562'),
  ('SEC_I2C2', 'Inter-integrated circuit', 0x50005800, 0x0, 0x400, 'STM32L562'),
  ('SEC_I2C3', 'Inter-integrated circuit', 0x50005C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_I2C4', 'Inter-integrated circuit', 0x50008400, 0x0, 0x400, 'STM32L562'),
  ('ICache', 'ICache', 0x40030400, 0x0, 0x400, 'STM32L562'),
  ('SEC_ICache', 'ICache', 0x50030400, 0x0, 0x400, 'STM32L562'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32L562'),
  ('SEC_IWDG', 'Independent watchdog', 0x50003000, 0x0, 0x400, 'STM32L562'),
  ('LPTIM1', 'Low power timer', 0x40007C00, 0x0, 0x400, 'STM32L562'),
  ('LPTIM2', 'Low power timer', 0x40009400, 0x0, 0x400, 'STM32L562'),
  ('LPTIM3', 'Low power timer', 0x40009800, 0x0, 0x400, 'STM32L562'),
  ('SEC_LPTIM1', 'Low power timer', 0x50007C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_LPTIM2', 'Low power timer', 0x50009400, 0x0, 0x400, 'STM32L562'),
  ('SEC_LPTIM3', 'Low power timer', 0x50009800, 0x0, 0x400, 'STM32L562'),
  ('LPUART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x40008000, 0x0, 0x400, 'STM32L562'),
  ('SEC_LPUART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x50008000, 0x0, 0x400, 'STM32L562'),
  ('OCTOSPI1', 'OctoSPI', 0x44021000, 0x0, 0x400, 'STM32L562'),
  ('SEC_OCTOSPI1', 'OctoSPI', 0x54021000, 0x0, 0x400, 'STM32L562'),
  ('OPAMP', 'Operational amplifiers', 0x40007800, 0x0, 0x400, 'STM32L562'),
  ('SEC_OPAMP', 'Operational amplifiers', 0x50007800, 0x0, 0x400, 'STM32L562'),
  ('OTFDEC1', 'On-The-Fly Decryption engine', 0x420C5000, 0x0, 0x400, 'STM32L562'),
  ('SEC_OTFDEC1', 'On-The-Fly Decryption engine', 0x520C5000, 0x0, 0x400, 'STM32L562'),
  ('PKA', 'PKA', 0x420C2000, 0x0, 0x400, 'STM32L562'),
  ('SEC_PKA', 'PKA', 0x520C2000, 0x0, 0x400, 'STM32L562'),
  ('PWR', 'Power control', 0x40007000, 0x0, 0x400, 'STM32L562'),
  ('SEC_PWR', 'Power control', 0x50007000, 0x0, 0x400, 'STM32L562'),
  ('RCC', 'Reset and clock control', 0x40021000, 0x0, 0x400, 'STM32L562'),
  ('SEC_RCC', 'Reset and clock control', 0x50021000, 0x0, 0x400, 'STM32L562'),
  ('RNG', 'RNG', 0x420C0800, 0x0, 0x400, 'STM32L562'),
  ('SEC_RNG', 'RNG', 0x520C0800, 0x0, 0x400, 'STM32L562'),
  ('RTC', 'Real-time clock', 0x40002800, 0x0, 0x400, 'STM32L562'),
  ('SEC_RTC', 'Real-time clock', 0x50002800, 0x0, 0x400, 'STM32L562'),
  ('SAI1', 'Serial audio interface', 0x40015400, 0x0, 0x400, 'STM32L562'),
  ('SAI2', 'Serial audio interface', 0x40015800, 0x0, 0x400, 'STM32L562'),
  ('SEC_SAI1', 'Serial audio interface', 0x50015400, 0x0, 0x400, 'STM32L562'),
  ('SEC_SAI2', 'Serial audio interface', 0x50015800, 0x0, 0x400, 'STM32L562'),
  ('SDMMC1', 'SDMMC1', 0x420C8000, 0x0, 0x3FD, 'STM32L562'),
  ('SEC_SDMMC1', 'SDMMC1', 0x520C8000, 0x0, 0x3FD, 'STM32L562'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32L562'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32L562'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_SPI1', 'Serial peripheral interface', 0x50013000, 0x0, 0x400, 'STM32L562'),
  ('SEC_SPI2', 'Serial peripheral interface', 0x50003800, 0x0, 0x400, 'STM32L562'),
  ('SEC_SPI3', 'Serial peripheral interface', 0x50003C00, 0x0, 0x400, 'STM32L562'),
  ('SYSCFG', 'System configuration controller', 0x40010000, 0x0, 0x30, 'STM32L562'),
  ('SEC_SYSCFG', 'System configuration controller', 0x50010000, 0x0, 0x30, 'STM32L562'),
  ('TAMP', 'Tamper and backup registers', 0x40003400, 0x0, 0x400, 'STM32L562'),
  ('SEC_TAMP', 'Tamper and backup registers', 0x50003400, 0x0, 0x400, 'STM32L562'),
  ('TIM1', 'Advanced-timers', 0x40012C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM1', 'Advanced-timers', 0x50012C00, 0x0, 0x400, 'STM32L562'),
  ('TIM2', 'General-purpose-timers', 0x40000000, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM2', 'General-purpose-timers', 0x50000000, 0x0, 0x400, 'STM32L562'),
  ('TIM3', 'General-purpose-timers', 0x40000400, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM3', 'General-purpose-timers', 0x50000400, 0x0, 0x400, 'STM32L562'),
  ('TIM4', 'General-purpose-timers', 0x40000800, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM4', 'General-purpose-timers', 0x50000800, 0x0, 0x400, 'STM32L562'),
  ('TIM5', 'General-purpose-timers', 0x40000C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM5', 'General-purpose-timers', 0x50000C00, 0x0, 0x400, 'STM32L562'),
  ('TIM6', 'General-purpose-timers', 0x40001000, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM6', 'General-purpose-timers', 0x50001000, 0x0, 0x400, 'STM32L562'),
  ('TIM7', 'General-purpose-timers', 0x40001400, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM7', 'General-purpose-timers', 0x50001400, 0x0, 0x400, 'STM32L562'),
  ('TIM15', 'General purpose timers', 0x40014000, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM15', 'General purpose timers', 0x50014000, 0x0, 0x400, 'STM32L562'),
  ('TIM16', 'General purpose timers', 0x40014400, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM16', 'General purpose timers', 0x50014400, 0x0, 0x400, 'STM32L562'),
  ('TIM17', 'General purpose timers', 0x40014800, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM17', 'General purpose timers', 0x50014800, 0x0, 0x400, 'STM32L562'),
  ('TIM8', 'Advanced-timers', 0x40013400, 0x0, 0x400, 'STM32L562'),
  ('SEC_TIM8', 'Advanced-timers', 0x50013400, 0x0, 0x400, 'STM32L562'),
  ('TSC', 'Touch sensing controller', 0x40024000, 0x0, 0x400, 'STM32L562'),
  ('SEC_TSC', 'Touch sensing controller', 0x50024000, 0x0, 0x400, 'STM32L562'),
  ('USB', 'Universal serial bus full-speed device
      interface', 0x4000D400, 0x0, 0x800, 'STM32L562'),
  ('SEC_USB', 'Universal serial bus full-speed device
      interface', 0x5000D400, 0x0, 0x800, 'STM32L562'),
  ('UCPD1', 'USB Power Delivery interface', 0x4000DC00, 0x0, 0x400, 'STM32L562'),
  ('SEC_UCPD1', 'USB Power Delivery interface', 0x5000DC00, 0x0, 0x400, 'STM32L562'),
  ('USART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x40013800, 0x0, 0x400, 'STM32L562'),
  ('SEC_USART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x50013800, 0x0, 0x400, 'STM32L562'),
  ('USART2', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004400, 0x0, 0x400, 'STM32L562'),
  ('SEC_USART2', 'Universal synchronous asynchronous receiver
      transmitter', 0x50004400, 0x0, 0x400, 'STM32L562'),
  ('USART3', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004800, 0x0, 0x400, 'STM32L562'),
  ('SEC_USART3', 'Universal synchronous asynchronous receiver
      transmitter', 0x50004800, 0x0, 0x400, 'STM32L562'),
  ('UART4', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004C00, 0x0, 0x400, 'STM32L562'),
  ('UART5', 'Universal synchronous asynchronous receiver
      transmitter', 0x40005000, 0x0, 0x400, 'STM32L562'),
  ('SEC_UART4', 'Universal synchronous asynchronous receiver
      transmitter', 0x50004C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_UART5', 'Universal synchronous asynchronous receiver
      transmitter', 0x50005000, 0x0, 0x400, 'STM32L562'),
  ('VREFBUF', 'Voltage reference buffer', 0x40010030, 0x0, 0x1D0, 'STM32L562'),
  ('SEC_VREFBUF', 'Voltage reference buffer', 0x50010030, 0x0, 0x1D0, 'STM32L562'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32L562'),
  ('SEC_WWDG', 'System window watchdog', 0x50002C00, 0x0, 0x400, 'STM32L562');
