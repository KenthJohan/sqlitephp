-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC4', 'ADC register block', 0x46021000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_ADC4', 'ADC register block', 0x56021000, 0x0, 0x400, 'STM32WBA52'),
  ('AES', 'Advanced encryption standard hardware accelerator', 0x420C0000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_AES', 'Advanced encryption standard hardware accelerator', 0x520C0000, 0x0, 0x400, 'STM32WBA52'),
  ('CRC', 'CRC register block', 0x40023000, 0x0, 0x18, 'STM32WBA52'),
  ('SEC_CRC', 'CRC register block', 0x50023000, 0x0, 0x18, 'STM32WBA52'),
  ('DBGMCU', 'DBGMCU address block description', 0xE0044000, 0x0, 0x1000, 'STM32WBA52'),
  ('EXTI', 'External interrupt/event controller', 0x46022000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_EXTI', 'External interrupt/event controller', 0x56022000, 0x0, 0x400, 'STM32WBA52'),
  ('FLASH', 'Embedded Flash memory', 0x40022000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_FLASH', 'Embedded Flash memory', 0x50022000, 0x0, 0x400, 'STM32WBA52'),
  ('GPDMA', 'General purpose direct memory access controller', 0x40020000, 0x0, 0x1000, 'STM32WBA52'),
  ('SEC_GPDMA', 'General purpose direct memory access controller', 0x50020000, 0x0, 0x1000, 'STM32WBA52'),
  ('GPIOA', 'General-purpose I/Os', 0x42020000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GPIOA', 'General-purpose I/Os', 0x52020000, 0x0, 0x400, 'STM32WBA52'),
  ('GPIOB', 'General-purpose I/Os', 0x42020400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GPIOB', 'General-purpose I/Os', 0x52020400, 0x0, 0x400, 'STM32WBA52'),
  ('GPIOC', 'General-purpose I/Os', 0x42020800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GPIOC', 'General-purpose I/Os', 0x52020800, 0x0, 0x400, 'STM32WBA52'),
  ('GPIOH', 'General-purpose I/Os', 0x42021C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GPIOH', 'General-purpose I/Os', 0x52021C00, 0x0, 0x400, 'STM32WBA52'),
  ('GTZC1_TZSC', 'GTZC1_TZSC', 0x40032400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GTZC1_TZSC', 'GTZC1_TZSC', 0x50032400, 0x0, 0x400, 'STM32WBA52'),
  ('GTZC1_TZIC', 'GTZC1_TZIC', 0x40032800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GTZC1_TZIC', 'GTZC1_TZIC', 0x50032800, 0x0, 0x400, 'STM32WBA52'),
  ('GTZC1_MPCBB1', 'GTZC1_MPCBB1 address block description', 0x40032C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GTZC1_MPCBB1', 'GTZC1_MPCBB1 address block description', 0x50032C00, 0x0, 0x400, 'STM32WBA52'),
  ('GTZC1_MPCBB2', 'GTZC1_MPCBB1 address block description', 0x40033000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GTZC1_MPCBB2', 'GTZC1_MPCBB1 address block description', 0x50033000, 0x0, 0x400, 'STM32WBA52'),
  ('GTZC1_MPCBB6', 'GTZC1_MPCBB6 address block description', 0x40034000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_GTZC1_MPCBB6', 'GTZC1_MPCBB6 address block description', 0x50034000, 0x0, 0x400, 'STM32WBA52'),
  ('HASH', 'HASH register block', 0x420C0400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_HASH', 'HASH register block', 0x520C0400, 0x0, 0x400, 'STM32WBA52'),
  ('HSEM', 'Hardware semaphore', 0x420C1C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_HSEM', 'Hardware semaphore', 0x520C1C00, 0x0, 0x400, 'STM32WBA52'),
  ('ICACHE', 'Instruction cache', 0x40030400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_ICache', 'Instruction cache', 0x50030400, 0x0, 0x400, 'STM32WBA52'),
  ('IWDG', 'Independent watchdog', 0x40003000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_IWDG', 'Independent watchdog', 0x50003000, 0x0, 0x400, 'STM32WBA52'),
  ('I2C', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_I2C1', 'Inter-integrated circuit', 0x50005400, 0x0, 0x400, 'STM32WBA52'),
  ('I2C3', 'Inter-integrated circuit', 0x46002800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_I2C3', 'Inter-integrated circuit', 0x56002800, 0x0, 0x400, 'STM32WBA52'),
  ('LPTIM1', 'Low power timer', 0x46004400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_LPTIM1', 'Low power timer', 0x56004400, 0x0, 0x400, 'STM32WBA52'),
  ('LPTIM2', 'Low power timer', 0x40009400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_LPTIM2', 'Low power timer', 0x50009400, 0x0, 0x400, 'STM32WBA52'),
  ('LPUART1', 'LPUART address block description', 0x46002400, 0x0, 0x34, 'STM32WBA52'),
  ('SEC_LPUART1', 'LPUART address block description', 0x56002400, 0x0, 0x34, 'STM32WBA52'),
  ('PKA', 'Private key accelerator', 0x420C2000, 0x0, 0x2000, 'STM32WBA52'),
  ('SEC_PKA', 'Private key accelerator', 0x520C2000, 0x0, 0x2000, 'STM32WBA52'),
  ('PWR', 'Power control', 0x46020800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_PWR', 'Power control', 0x56020800, 0x0, 0x400, 'STM32WBA52'),
  ('RAMCFG', 'RAMs configuration controller', 0x40026000, 0x0, 0x1000, 'STM32WBA52'),
  ('SEC_RAMCFG', 'RAMs configuration controller', 0x50026000, 0x0, 0x1000, 'STM32WBA52'),
  ('RCC', 'Reset and clock control', 0x46020C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_RCC', 'Reset and clock control', 0x56020C00, 0x0, 0x400, 'STM32WBA52'),
  ('RNG', 'RNG register block', 0x420C0800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_RNG', 'RNG register block', 0x520C0800, 0x0, 0x400, 'STM32WBA52'),
  ('RTC', 'Real-time clock', 0x46007800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_RTC', 'Real-time clock', 0x56007800, 0x0, 0x400, 'STM32WBA52'),
  ('SAES', 'Secure AES coprocessor', 0x420C0C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_SAES', 'Secure AES coprocessor', 0x520C0C00, 0x0, 0x400, 'STM32WBA52'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_SPI1', 'Serial peripheral interface', 0x50013000, 0x0, 0x400, 'STM32WBA52'),
  ('SPI3', 'Serial peripheral interface', 0x46002000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_SPI3', 'Serial peripheral interface', 0x56002000, 0x0, 0x400, 'STM32WBA52'),
  ('SYSCFG', 'System configuration controller', 0x46000400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_SYSCFG', 'System configuration controller', 0x56000400, 0x0, 0x400, 'STM32WBA52'),
  ('TAMP', 'Tamper and backup registers', 0x46007C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_TAMP', 'Tamper and backup registers', 0x56007C00, 0x0, 0x400, 'STM32WBA52'),
  ('TIM1', 'TIM1 address block description', 0x40012C00, 0x0, 0x3E4, 'STM32WBA52'),
  ('SEC_TIM1', 'TIM1 address block description', 0x50012C00, 0x0, 0x3E4, 'STM32WBA52'),
  ('TIM2', 'TIM2 address block description', 0x40000000, 0x0, 0x3E4, 'STM32WBA52'),
  ('SEC_TIM2', 'TIM2 address block description', 0x50000000, 0x0, 0x3E4, 'STM32WBA52'),
  ('TIM3', 'TIM2 address block description', 0x40000400, 0x0, 0x3E4, 'STM32WBA52'),
  ('SEC_TIM3', 'TIM2 address block description', 0x50000400, 0x0, 0x3E4, 'STM32WBA52'),
  ('TIM16', 'TIM16 address block description', 0x40014400, 0x0, 0x3E4, 'STM32WBA52'),
  ('SEC_TIM16', 'TIM16 address block description', 0x50014400, 0x0, 0x3E4, 'STM32WBA52'),
  ('TIM17', 'TIM16 address block description', 0x40014800, 0x0, 0x3E4, 'STM32WBA52'),
  ('SEC_TIM17', 'TIM16 address block description', 0x50014800, 0x0, 0x3E4, 'STM32WBA52'),
  ('TSC', 'Touch sensing controller', 0x40024000, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_TSC', 'Touch sensing controller', 0x50024000, 0x0, 0x400, 'STM32WBA52'),
  ('USART1', 'USART register block', 0x40013800, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_USART1', 'USART register block', 0x50013800, 0x0, 0x400, 'STM32WBA52'),
  ('USART2', 'USART register block', 0x40004400, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_USART2', 'USART register block', 0x50004400, 0x0, 0x400, 'STM32WBA52'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32WBA52'),
  ('SEC_WWDG', 'System window watchdog', 0x50002C00, 0x0, 0x400, 'STM32WBA52'),
  ('DCB', 'Debug Control Block', 0xE000EE08, 0x0, 0x5, 'STM32WBA52');
