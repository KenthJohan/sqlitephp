-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('CRC', 'Cyclic redundancy check calculation unit', 0x40023000, 0x0, 0x400, 'STM32G474'),
  ('IWDG', 'WinWATCHDOG', 0x40003000, 0x0, 0x400, 'STM32G474'),
  ('WWDG', 'System window watchdog', 0x40002C00, 0x0, 0x400, 'STM32G474'),
  ('I2C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32G474'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32G474'),
  ('I2C3', 'Inter-integrated circuit', 0x40007800, 0x0, 0x400, 'STM32G474'),
  ('I2C4', 'Inter-integrated circuit', 0x40008400, 0x0, 0x400, 'STM32G474'),
  ('FLASH', 'Flash', 0x40022000, 0x0, 0x400, 'STM32G474'),
  ('DBGMCU', 'Debug support', 0xE0042000, 0x0, 0x400, 'STM32G474'),
  ('RCC', 'Reset and clock control', 0x40021000, 0x0, 0x400, 'STM32G474'),
  ('PWR', 'Power control', 0x40007000, 0x0, 0x400, 'STM32G474'),
  ('RNG', 'Random number generator', 0x50060800, 0x0, 0x400, 'STM32G474'),
  ('GPIOA', 'General-purpose I/Os', 0x48000000, 0x0, 0x400, 'STM32G474'),
  ('GPIOB', 'General-purpose I/Os', 0x48000400, 0x0, 0x400, 'STM32G474'),
  ('GPIOC', 'General-purpose I/Os', 0x48000800, 0x0, 0x400, 'STM32G474'),
  ('GPIOD', 'General-purpose I/Os', 0x48000C00, 0x0, 0x400, 'STM32G474'),
  ('GPIOE', 'General-purpose I/Os', 0x48001000, 0x0, 0x400, 'STM32G474'),
  ('GPIOF', 'General-purpose I/Os', 0x48001400, 0x0, 0x400, 'STM32G474'),
  ('GPIOG', 'General-purpose I/Os', 0x48001800, 0x0, 0x400, 'STM32G474'),
  ('TIM15', 'General purpose timers', 0x40014000, 0x0, 0x400, 'STM32G474'),
  ('TIM16', 'General purpose timers', 0x40014400, 0x0, 0x400, 'STM32G474'),
  ('TIM17', 'General purpose timers', 0x40014800, 0x0, 0x400, 'STM32G474'),
  ('TIM1', 'Advanced-timers', 0x40012C00, 0x0, 0x400, 'STM32G474'),
  ('TIM20', 'Advanced-timers', 0x40015000, 0x0, 0x400, 'STM32G474'),
  ('TIM8', 'Advanced-timers', 0x40013400, 0x0, 0x400, 'STM32G474'),
  ('TIM2', 'Advanced-timers', 0x40000000, 0x0, 0x400, 'STM32G474'),
  ('TIM5', 'Advanced-timers', 0x40000C00, 0x0, 0x400, 'STM32G474'),
  ('TIM3', 'Advanced-timers', 0x40000400, 0x0, 0x400, 'STM32G474'),
  ('TIM4', 'Advanced-timers', 0x40000800, 0x0, 0x400, 'STM32G474'),
  ('TIM6', 'Basic-timers', 0x40001000, 0x0, 0x400, 'STM32G474'),
  ('TIM7', 'Basic-timers', 0x40001400, 0x0, 0x400, 'STM32G474'),
  ('LPTIM1', 'Low power timer', 0x40007C00, 0x0, 0x400, 'STM32G474'),
  ('USART1', 'Universal synchronous asynchronous receiver       transmitter', 0x40013800, 0x0, 0x400, 'STM32G474'),
  ('USART2', 'Universal synchronous asynchronous receiver       transmitter', 0x40004400, 0x0, 0x400, 'STM32G474'),
  ('USART3', 'Universal synchronous asynchronous receiver       transmitter', 0x40004800, 0x0, 0x400, 'STM32G474'),
  ('UART4', 'Universal synchronous asynchronous receiver       transmitter', 0x40004C00, 0x0, 0x400, 'STM32G474'),
  ('UART5', 'Universal synchronous asynchronous receiver       transmitter', 0x40005000, 0x0, 0x400, 'STM32G474'),
  ('LPUART1', 'Universal synchronous asynchronous receiver       transmitter', 0x40008000, 0x0, 0x400, 'STM32G474'),
  ('SPI1', 'Serial peripheral interface/Inter-IC       sound', 0x40013000, 0x0, 0x400, 'STM32G474'),
  ('SPI4', 'Serial peripheral interface/Inter-IC       sound', 0x40013C00, 0x0, 0x400, 'STM32G474'),
  ('SPI3', 'Serial peripheral interface/Inter-IC       sound', 0x40003C00, 0x0, 0x400, 'STM32G474'),
  ('SPI2', 'Serial peripheral interface/Inter-IC       sound', 0x40003800, 0x0, 0x400, 'STM32G474'),
  ('EXTI', 'External interrupt/event       controller', 0x40010400, 0x0, 0x400, 'STM32G474'),
  ('RTC', 'Real-time clock', 0x40002800, 0x0, 0x400, 'STM32G474'),
  ('FMC', 'Flexible memory controller', 0xA0000000, 0x0, 0x400, 'STM32G474'),
  ('DMA1', 'DMA controller', 0x40020000, 0x0, 0x400, 'STM32G474'),
  ('DMA2', 'DMA controller', 0x40020400, 0x0, 0x400, 'STM32G474'),
  ('DMAMUX', 'DMAMUX', 0x40020800, 0x0, 0x400, 'STM32G474'),
  ('SYSCFG', 'System configuration controller', 0x40010000, 0x0, 0x2A, 'STM32G474'),
  ('VREFBUF', 'Voltage reference buffer', 0x40010030, 0x0, 0x1D0, 'STM32G474'),
  ('COMP', 'Comparator control and status register', 0x40010200, 0x0, 0x100, 'STM32G474'),
  ('OPAMP', 'Operational amplifiers', 0x40010300, 0x0, 0x100, 'STM32G474'),
  ('HRTIM_Master', 'High Resolution Timer: Master       Timers', 0x40016800, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_TIMA', 'High Resolution Timer: TIMA', 0x40016880, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_TIMB', 'High Resolution Timer: TIMB', 0x40016900, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_TIMC', 'High Resolution Timer: TIMC', 0x40016980, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_TIMD', 'High Resolution Timer: TIMD', 0x40016A00, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_TIME', 'High Resolution Timer: TIME', 0x40016A80, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_TIMF', 'High Resolution Timer: TIMF', 0x40016B00, 0x0, 0x80, 'STM32G474'),
  ('HRTIM_Common', 'High Resolution Timer: Common       functions', 0x40016B80, 0x0, 0x91, 'STM32G474'),
  ('QUADSPI', 'QuadSPI interface', 0xA0001000, 0x0, 0x400, 'STM32G474'),
  ('DAC1', 'Digital-to-analog converter', 0x50000800, 0x0, 0x400, 'STM32G474'),
  ('DAC2', 'Digital-to-analog converter', 0x50000C00, 0x0, 0x400, 'STM32G474'),
  ('DAC3', 'Digital-to-analog converter', 0x50001000, 0x0, 0x400, 'STM32G474'),
  ('DAC4', 'Digital-to-analog converter', 0x50001400, 0x0, 0x400, 'STM32G474'),
  ('ADC1', 'Analog-to-Digital Converter', 0x50000000, 0x0, 0xD0, 'STM32G474'),
  ('ADC2', 'Analog-to-Digital Converter', 0x50000100, 0x0, 0xD0, 'STM32G474'),
  ('ADC3', 'Analog-to-Digital Converter', 0x50000400, 0x0, 0xD0, 'STM32G474'),
  ('ADC4', 'Analog-to-Digital Converter', 0x50000500, 0x0, 0xD0, 'STM32G474'),
  ('ADC5', 'Analog-to-Digital Converter', 0x50000600, 0x0, 0xD0, 'STM32G474'),
  ('ADC12_Common', 'Analog-to-Digital Converter', 0x50000300, 0x0, 0x11, 'STM32G474'),
  ('ADC345_Common', 'Analog-to-Digital Converter', 0x50000700, 0x0, 0x11, 'STM32G474'),
  ('FMAC', 'Filter Math Accelerator', 0x40021400, 0x0, 0xC00, 'STM32G474'),
  ('CORDIC', 'CORDIC Co-processor', 0x40020C00, 0x0, 0x400, 'STM32G474'),
  ('SAI', 'Serial audio interface', 0x40015400, 0x0, 0x400, 'STM32G474'),
  ('TAMP', 'Tamper and backup registers', 0x40002400, 0x0, 0x400, 'STM32G474'),
  ('FDCAN', 'FDCAN', 0x4000A400, 0x0, 0x400, 'STM32G474'),
  ('FDCAN1', 'FDCAN', 0x40006400, 0x0, 0x400, 'STM32G474'),
  ('FDCAN2', 'FDCAN', 0x40006800, 0x0, 0x400, 'STM32G474'),
  ('FDCAN3', 'FDCAN', 0x40006C00, 0x0, 0x400, 'STM32G474'),
  ('UCPD1', 'UCPD1', 0x4000A000, 0x0, 0x400, 'STM32G474'),
  ('USB_FS_device', 'USB_FS_device', 0x40005C00, 0x0, 0x400, 'STM32G474'),
  ('CRS', 'CRS', 0x40002000, 0x0, 0x400, 'STM32G474');
