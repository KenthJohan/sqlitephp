-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC1', 'ADC register block', 0x40022000, 0x0, 0xCC, 'STM32H7R'),
  ('ADC2', 'ADC register block', 0x40022100, 0x0, 0xCC, 'STM32H7R'),
  ('ADC12_common', 'master and slave ADC common', 0x40022300, 0x0, 0x400, 'STM32H7R'),
  ('ADF', 'Audio digital filter', 0x4002F000, 0x0, 0xF4, 'STM32H7R'),
  ('CEC', 'HDMI-CEC controller', 0x40006C00, 0x0, 0x18, 'STM32H7R'),
  ('CORDIC', 'CORDIC register block', 0x48004400, 0x0, 0x100, 'STM32H7R'),
  ('CRC', 'Cyclic redundancy check calculation unit', 0x58024C00, 0x0, 0x18, 'STM32H7R'),
  ('CRS', 'Clock Recovery System', 0x40008400, 0x0, 0x400, 'STM32H7R'),
  ('DBGMCU', 'Microcontroller debug unit', 0x5C001000, 0x0, 0x1000, 'STM32H7R'),
  ('DCMIPP', 'Digital camera interface pixel pipeline', 0x50002000, 0x0, 0x1000, 'STM32H7R'),
  ('DLYB1', 'DLYB register block', 0x52008000, 0x0, 0x400, 'STM32H7R'),
  ('DLYB2', 'DLYB register block', 0x48002800, 0x0, 0x400, 'STM32H7R'),
  ('DMA2D', 'Chrom-Art Accelerator controller', 0x52001000, 0x0, 0xC00, 'STM32H7R'),
  ('DTS', 'Digital temperature sensor', 0x58006800, 0x0, 0x400, 'STM32H7R'),
  ('ETH', 'Ethernet register block', 0x40028000, 0x0, 0x11F0, 'STM32H7R'),
  ('EXTI', 'Extended interrupt and event controller', 0x58000000, 0x0, 0x400, 'STM32H7R'),
  ('FDCAN1', 'No description available', 0x4000A000, 0x0, 0x400, 'STM32H7R'),
  ('FDCAN2', 'No description available', 0x4000A400, 0x0, 0x400, 'STM32H7R'),
  ('FLASH', 'Embedded Flash memory', 0x52002000, 0x0, 0x1000, 'STM32H7R'),
  ('FMC', 'Flexible memory controller', 0x52004000, 0x0, 0x15C, 'STM32H7R'),
  ('GFXMMU', 'Chrom-GRC', 0x52010000, 0x0, 0x3000, 'STM32H7R'),
  ('GFXTIM', 'Graphic timer', 0x50004000, 0x0, 0x400, 'STM32H7R'),
  ('GPDMA', 'General purpose direct memory access controller', 0x40021000, 0x0, 0x1000, 'STM32H7R'),
  ('GPIOA', 'General-purpose I/Os', 0x58020000, 0x0, 0x30, 'STM32H7R'),
  ('GPIOB', 'General-purpose I/Os', 0x58020400, 0x0, 0x30, 'STM32H7R'),
  ('GPIOC', 'General-purpose I/Os', 0x58020800, 0x0, 0x30, 'STM32H7R'),
  ('GPIOD', 'General-purpose I/Os', 0x58020C00, 0x0, 0x30, 'STM32H7R'),
  ('GPIOE', 'General-purpose I/Os', 0x58021000, 0x0, 0x30, 'STM32H7R'),
  ('GPIOF', 'General-purpose I/Os', 0x58021400, 0x0, 0x30, 'STM32H7R'),
  ('GPIOG', 'General-purpose I/Os', 0x58021800, 0x0, 0x30, 'STM32H7R'),
  ('GPIOH', 'General-purpose I/Os', 0x58021C00, 0x0, 0x30, 'STM32H7R'),
  ('GPIOM', 'General-purpose I/Os', 0x58023000, 0x0, 0x30, 'STM32H7R'),
  ('GPION', 'General-purpose I/Os', 0x58023400, 0x0, 0x30, 'STM32H7R'),
  ('GPIOO', 'General-purpose I/Os', 0x58023800, 0x0, 0x30, 'STM32H7R'),
  ('GPIOP', 'GPIOP address block description', 0x58023C00, 0x0, 0x30, 'STM32H7R'),
  ('HASH', 'Hash processor', 0x48020400, 0x0, 0x400, 'STM32H7R'),
  ('HPDMA', 'High-performance direct memory access controller', 0x52000000, 0x0, 0x1000, 'STM32H7R'),
  ('ICACHE', 'Texture cache', 0x52015000, 0x0, 0x400, 'STM32H7R'),
  ('IWDG', 'IWDG register block', 0x58004800, 0x0, 0x400, 'STM32H7R'),
  ('I2C1_I3C1', 'Inter-integrated circuit', 0x40005400, 0x0, 0x400, 'STM32H7R'),
  ('I2C2', 'Inter-integrated circuit', 0x40005800, 0x0, 0x400, 'STM32H7R'),
  ('I2C3', 'Inter-integrated circuit', 0x40005C00, 0x0, 0x400, 'STM32H7R'),
  ('JPEG', 'JPEG codec', 0x52003000, 0x0, 0x8BC, 'STM32H7R'),
  ('LPTIM1', 'Low power timer', 0x40002400, 0x0, 0xC, 'STM32H7R'),
  ('LPTIM2', 'Low power timer', 0x58002400, 0x0, 0xC, 'STM32H7R'),
  ('LPTIM3', 'Low power timer', 0x58002800, 0x0, 0xC, 'STM32H7R'),
  ('LPTIM4', 'Low power timer', 0x58002C00, 0x0, 0xC, 'STM32H7R'),
  ('LPTIM5', 'Low power timer', 0x58003000, 0x0, 0xC, 'STM32H7R'),
  ('LPUART1', 'Low-power universal asynchronous receiver transmitter', 0x58000C00, 0x0, 0x30, 'STM32H7R'),
  ('LTDC', 'LTDC register block', 0x50001000, 0x0, 0x148, 'STM32H7R'),
  ('MDIOS', 'Management data input/output', 0x40009400, 0x0, 0x400, 'STM32H7R'),
  ('OTG_HS', 'OTG register block', 0x40040000, 0x0, 0xE08, 'STM32H7R'),
  ('OTG_FS', 'OTG register block', 0x40080000, 0x0, 0xE08, 'STM32H7R'),
  ('PSSI', 'Parallel synchronous slave interface', 0x48000400, 0x0, 0x400, 'STM32H7R'),
  ('PWR', 'Power control', 0x58024800, 0x0, 0x54, 'STM32H7R'),
  ('RAMCFG', 'RAMs configuration controller', 0x58027000, 0x0, 0x1000, 'STM32H7R'),
  ('RCC', 'RCC register block', 0x58024400, 0x0, 0x184, 'STM32H7R'),
  ('RNG', 'True random number generator', 0x48020000, 0x0, 0x400, 'STM32H7R'),
  ('RTC', 'RTC register block', 0x58004000, 0x0, 0x400, 'STM32H7R'),
  ('SAI1', 'Serial audio interface', 0x42005800, 0x0, 0x400, 'STM32H7R'),
  ('SAI2', 'Serial audio interface', 0x42005C00, 0x0, 0x400, 'STM32H7R'),
  ('SBS', 'System configuration, boot and security', 0x58000400, 0x0, 0x140, 'STM32H7R'),
  ('SDMMC1', 'Secure digital input/output MultiMediaCard interface', 0x52007000, 0x0, 0x400, 'STM32H7R'),
  ('SDMMC2', 'Secure digital input/output MultiMediaCard interface', 0x48002400, 0x0, 0x400, 'STM32H7R'),
  ('SPDIFRX', 'SPDIF receiver interface', 0x40004000, 0x0, 0x1C, 'STM32H7R'),
  ('SPI1', 'Serial peripheral interface', 0x42003000, 0x0, 0x400, 'STM32H7R'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32H7R'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32H7R'),
  ('SPI4', 'Serial peripheral interface', 0x42003400, 0x0, 0x400, 'STM32H7R'),
  ('SPI5', 'Serial peripheral interface', 0x42005000, 0x0, 0x400, 'STM32H7R'),
  ('SPI6', 'Serial peripheral interface', 0x58001400, 0x0, 0x400, 'STM32H7R'),
  ('TAMP', 'TAMP register block', 0x58004400, 0x0, 0x400, 'STM32H7R'),
  ('TIM1', 'Advanced-control timers', 0x42000000, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM2', 'General-purpose timers', 0x40000000, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM3', 'General-purpose timers', 0x40000400, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM4', 'General-purpose timers', 0x40000800, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM5', 'General-purpose timers', 0x40000C00, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM6', 'Basic timers', 0x40001000, 0x0, 0x30, 'STM32H7R'),
  ('TIM7', 'Basic timers', 0x40001400, 0x0, 0x30, 'STM32H7R'),
  ('TIM9', 'General-purpose timers', 0x42004C00, 0x0, 0x60, 'STM32H7R'),
  ('TIM12', 'General-purpose timers', 0x40001800, 0x0, 0x60, 'STM32H7R'),
  ('TIM13', 'General-purpose timers', 0x40001C00, 0x0, 0x60, 'STM32H7R'),
  ('TIM14', 'General-purpose timers', 0x40002000, 0x0, 0x60, 'STM32H7R'),
  ('TIM15', 'General purpose timers', 0x42004000, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM16', 'General purpose timers', 0x42004400, 0x0, 0x3E4, 'STM32H7R'),
  ('TIM17', 'General purpose timers', 0x42004800, 0x0, 0x3E4, 'STM32H7R'),
  ('UCPD', 'USB Type-C/USB Power Delivery interface', 0x4000EC00, 0x0, 0x400, 'STM32H7R'),
  ('USART1', 'Universal synchronous/asynchronous receiver transmitter', 0x42001000, 0x0, 0x400, 'STM32H7R'),
  ('USART2', 'Universal synchronous/asynchronous receiver transmitter', 0x40004400, 0x0, 0x400, 'STM32H7R'),
  ('USART3', 'Universal synchronous/asynchronous receiver transmitter', 0x40004800, 0x0, 0x400, 'STM32H7R'),
  ('UART4', 'Universal synchronous/asynchronous receiver transmitter', 0x40004C00, 0x0, 0x400, 'STM32H7R'),
  ('UART5', 'Universal synchronous/asynchronous receiver transmitter', 0x40005000, 0x0, 0x400, 'STM32H7R'),
  ('UART7', 'Universal synchronous/asynchronous receiver transmitter', 0x40007800, 0x0, 0x400, 'STM32H7R'),
  ('UART8', 'Universal synchronous/asynchronous receiver transmitter', 0x40007C00, 0x0, 0x400, 'STM32H7R'),
  ('VREFBUF', 'Voltage reference buffer', 0x58003C00, 0x0, 0x8, 'STM32H7R'),
  ('WWDG', 'WWDG', 0x40002C00, 0x0, 0x400, 'STM32H7R'),
  ('XSPI1', 'XSPI register block', 0x52005000, 0x0, 0x22C, 'STM32H7R'),
  ('XSPI2', 'XSPI register block', 0x5200A000, 0x0, 0x22C, 'STM32H7R'),
  ('XSPIM1', 'XSPIM1 register block', 0x5200B400, 0x0, 0x20, 'STM32H7R');
