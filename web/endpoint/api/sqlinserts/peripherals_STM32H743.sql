-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('COMP1', 'COMP1', 0x58003800, 0x0, 0x400, 'STM32H743'),
  ('CRS', 'CRS', 0x40008400, 0x0, 0x400, 'STM32H743'),
  ('DAC', 'DAC', 0x40007400, 0x0, 0x400, 'STM32H743'),
  ('BDMA', 'BDMA', 0x58025400, 0x0, 0x400, 'STM32H743'),
  ('DMA2D', 'DMA2D', 0x52001000, 0x0, 0x400, 'STM32H743'),
  ('DMAMUX1', 'DMAMUX', 0x40020800, 0x0, 0x400, 'STM32H743'),
  ('DMAMUX2', 'DMAMUX', 0x58025800, 0x0, 0x400, 'STM32H743'),
  ('FMC', 'FMC', 0x52004000, 0x0, 0x400, 'STM32H743'),
  ('CEC', 'CEC', 0x40006C00, 0x0, 0x400, 'STM32H743'),
  ('HSEM', 'HSEM', 0x58026400, 0x0, 0x400, 'STM32H743'),
  ('I2C1', 'I2C', 0x40005400, 0x0, 0x400, 'STM32H743'),
  ('I2C2', 'I2C', 0x40005800, 0x0, 0x400, 'STM32H743'),
  ('I2C3', 'I2C', 0x40005C00, 0x0, 0x400, 'STM32H743'),
  ('I2C4', 'I2C', 0x58001C00, 0x0, 0x400, 'STM32H743'),
  ('GPIOA', 'GPIO', 0x58020000, 0x0, 0x400, 'STM32H743'),
  ('GPIOB', 'GPIO', 0x58020400, 0x0, 0x400, 'STM32H743'),
  ('GPIOC', 'GPIO', 0x58020800, 0x0, 0x400, 'STM32H743'),
  ('GPIOD', 'GPIO', 0x58020C00, 0x0, 0x400, 'STM32H743'),
  ('GPIOE', 'GPIO', 0x58021000, 0x0, 0x400, 'STM32H743'),
  ('GPIOF', 'GPIO', 0x58021400, 0x0, 0x400, 'STM32H743'),
  ('GPIOG', 'GPIO', 0x58021800, 0x0, 0x400, 'STM32H743'),
  ('GPIOH', 'GPIO', 0x58021C00, 0x0, 0x400, 'STM32H743'),
  ('GPIOI', 'GPIO', 0x58022000, 0x0, 0x400, 'STM32H743'),
  ('GPIOJ', 'GPIO', 0x58022400, 0x0, 0x400, 'STM32H743'),
  ('GPIOK', 'GPIO', 0x58022800, 0x0, 0x400, 'STM32H743'),
  ('JPEG', 'JPEG', 0x52003000, 0x0, 0x400, 'STM32H743'),
  ('MDMA', 'MDMA', 0x52000000, 0x0, 0x1000, 'STM32H743'),
  ('QUADSPI', 'QUADSPI', 0x52005000, 0x0, 0x400, 'STM32H743'),
  ('RNG', 'RNG', 0x48021800, 0x0, 0x400, 'STM32H743'),
  ('RTC', 'RTC', 0x58004000, 0x0, 0x400, 'STM32H743'),
  ('SAI4', 'SAI', 0x58005400, 0x0, 0x400, 'STM32H743'),
  ('SAI1', 'SAI', 0x40015800, 0x0, 0x400, 'STM32H743'),
  ('SAI2', 'SAI', 0x40015C00, 0x0, 0x400, 'STM32H743'),
  ('SAI3', 'SAI', 0x40016000, 0x0, 0x400, 'STM32H743'),
  ('SDMMC1', 'SDMMC1', 0x52007000, 0x0, 0x3FD, 'STM32H743'),
  ('SDMMC2', 'SDMMC1', 0x48022400, 0x0, 0x3FD, 'STM32H743'),
  ('VREFBUF', 'VREFBUF', 0x58003C00, 0x0, 0x400, 'STM32H743'),
  ('IWDG', 'IWDG', 0x58004800, 0x0, 0x400, 'STM32H743'),
  ('WWDG', 'WWDG', 0x50003000, 0x0, 0x400, 'STM32H743'),
  ('PWR', 'PWR', 0x58024800, 0x0, 0x400, 'STM32H743'),
  ('SPI1', 'Serial peripheral interface', 0x40013000, 0x0, 0x400, 'STM32H743'),
  ('SPI2', 'Serial peripheral interface', 0x40003800, 0x0, 0x400, 'STM32H743'),
  ('SPI3', 'Serial peripheral interface', 0x40003C00, 0x0, 0x400, 'STM32H743'),
  ('SPI4', 'Serial peripheral interface', 0x40013400, 0x0, 0x400, 'STM32H743'),
  ('SPI5', 'Serial peripheral interface', 0x40015000, 0x0, 0x400, 'STM32H743'),
  ('SPI6', 'Serial peripheral interface', 0x58001400, 0x0, 0x400, 'STM32H743'),
  ('LTDC', 'LCD-TFT Controller', 0x50001000, 0x0, 0x1000, 'STM32H743'),
  ('SPDIFRX', 'Receiver Interface', 0x40004000, 0x0, 0x400, 'STM32H743'),
  ('ADC3', 'Analog to Digital Converter', 0x58026000, 0x0, 0xD1, 'STM32H743'),
  ('ADC1', 'Analog to Digital Converter', 0x40022000, 0x0, 0xD1, 'STM32H743'),
  ('ADC2', 'Analog to Digital Converter', 0x40022100, 0x0, 0xD1, 'STM32H743'),
  ('ADC3_Common', 'Analog-to-Digital Converter', 0x58026300, 0x0, 0x100, 'STM32H743'),
  ('ADC12_Common', 'Analog-to-Digital Converter', 0x40022300, 0x0, 0x100, 'STM32H743'),
  ('CRC', 'Cryptographic processor', 0x58024C00, 0x0, 0x400, 'STM32H743'),
  ('RCC', 'Reset and clock control', 0x58024400, 0x0, 0x400, 'STM32H743'),
  ('LPTIM1', 'Low power timer', 0x40002400, 0x0, 0x400, 'STM32H743'),
  ('LPTIM2', 'Low power timer', 0x58002400, 0x0, 0x400, 'STM32H743'),
  ('LPTIM3', 'Low power timer', 0x58002800, 0x0, 0x400, 'STM32H743'),
  ('LPTIM4', 'Low power timer', 0x58002C00, 0x0, 0x400, 'STM32H743'),
  ('LPTIM5', 'Low power timer', 0x58003000, 0x0, 0x400, 'STM32H743'),
  ('LPUART1', 'LPUART1', 0x58000C00, 0x0, 0x400, 'STM32H743'),
  ('SYSCFG', 'System configuration controller', 0x58000400, 0x0, 0x400, 'STM32H743'),
  ('EXTI', 'External interrupt/event
      controller', 0x58000000, 0x0, 0x400, 'STM32H743'),
  ('RAMECC1', 'ECC controller is associated to each RAM
      area', 0x52009000, 0x0, 0x400, 'STM32H743'),
  ('RAMECC2', 'ECC controller is associated to each RAM
      area', 0x48023000, 0x0, 0x400, 'STM32H743'),
  ('RAMECC3', 'ECC controller is associated to each RAM
      area', 0x58027000, 0x0, 0x400, 'STM32H743'),
  ('DELAY_Block_SDMMC1', 'DELAY_Block_SDMMC1', 0x52008000, 0x0, 0x8, 'STM32H743'),
  ('DELAY_Block_QUADSPI', 'DELAY_Block_SDMMC1', 0x52006000, 0x0, 0x8, 'STM32H743'),
  ('DELAY_Block_SDMMC2', 'DELAY_Block_SDMMC1', 0x48022800, 0x0, 0x8, 'STM32H743'),
  ('Flash', 'Flash', 0x52002000, 0x0, 0x1000, 'STM32H743'),
  ('AXI', 'AXI interconnect registers', 0x51000000, 0x0, 0x100000, 'STM32H743'),
  ('DCMI', 'Digital camera interface', 0x48020000, 0x0, 0x400, 'STM32H743'),
  ('OTG1_HS_GLOBAL', 'USB 1 on the go high speed', 0x40040000, 0x0, 0x400, 'STM32H743'),
  ('OTG2_HS_GLOBAL', 'USB 1 on the go high speed', 0x40080000, 0x0, 0x400, 'STM32H743'),
  ('OTG1_HS_HOST', 'USB 1 on the go high speed', 0x40040400, 0x0, 0x400, 'STM32H743'),
  ('OTG2_HS_HOST', 'USB 1 on the go high speed', 0x40080400, 0x0, 0x400, 'STM32H743'),
  ('OTG1_HS_DEVICE', 'USB 1 on the go high speed', 0x40040800, 0x0, 0x400, 'STM32H743'),
  ('OTG2_HS_DEVICE', 'USB 1 on the go high speed', 0x40080800, 0x0, 0x400, 'STM32H743'),
  ('OTG1_HS_PWRCLK', 'USB 1 on the go high speed', 0x40040E00, 0x0, 0x3F200, 'STM32H743'),
  ('OTG2_HS_PWRCLK', 'USB 1 on the go high speed', 0x40080E00, 0x0, 0x3F200, 'STM32H743'),
  ('Ethernet_DMA', 'Ethernet: DMA mode register (DMA)', 0x40029000, 0x0, 0x400, 'STM32H743'),
  ('Ethernet_MTL', 'Ethernet: MTL mode register (MTL)', 0x40028C00, 0x0, 0x200, 'STM32H743'),
  ('Ethernet_MAC', 'Ethernet: media access control (MAC)', 0x40028000, 0x0, 0xBDF, 'STM32H743'),
  ('DMA1', 'DMA controller', 0x40020000, 0x0, 0x400, 'STM32H743'),
  ('DMA2', 'DMA controller', 0x40020400, 0x0, 0x400, 'STM32H743'),
  ('HRTIM_Master', 'High Resolution Timer: Master
      Timers', 0x40017400, 0x0, 0x80, 'STM32H743'),
  ('HRTIM_TIMA', 'High Resolution Timer: TIMA', 0x40017480, 0x0, 0x80, 'STM32H743'),
  ('HRTIM_TIMB', 'High Resolution Timer: TIMB', 0x40017500, 0x0, 0x80, 'STM32H743'),
  ('HRTIM_TIMC', 'High Resolution Timer: TIMC', 0x40017580, 0x0, 0x80, 'STM32H743'),
  ('HRTIM_TIMD', 'High Resolution Timer: TIMD', 0x40017600, 0x0, 0x80, 'STM32H743'),
  ('HRTIM_TIME', 'High Resolution Timer: TIME', 0x40017680, 0x0, 0x80, 'STM32H743'),
  ('HRTIM_Common', 'High Resolution Timer: Common
      functions', 0x40017780, 0x0, 0x80, 'STM32H743'),
  ('DFSDM', 'Digital filter for sigma delta
      modulators', 0x40017000, 0x0, 0x400, 'STM32H743'),
  ('TIM16', 'General-purpose-timers', 0x40014400, 0x0, 0x400, 'STM32H743'),
  ('TIM17', 'General-purpose-timers', 0x40014800, 0x0, 0x400, 'STM32H743'),
  ('TIM15', 'General purpose timers', 0x40014000, 0x0, 0x400, 'STM32H743'),
  ('USART1', 'Universal synchronous asynchronous receiver
      transmitter', 0x40011000, 0x0, 0x400, 'STM32H743'),
  ('USART2', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004400, 0x0, 0x400, 'STM32H743'),
  ('USART3', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004800, 0x0, 0x400, 'STM32H743'),
  ('UART4', 'Universal synchronous asynchronous receiver
      transmitter', 0x40004C00, 0x0, 0x400, 'STM32H743'),
  ('UART5', 'Universal synchronous asynchronous receiver
      transmitter', 0x40005000, 0x0, 0x400, 'STM32H743'),
  ('USART6', 'Universal synchronous asynchronous receiver
      transmitter', 0x40011400, 0x0, 0x400, 'STM32H743'),
  ('UART7', 'Universal synchronous asynchronous receiver
      transmitter', 0x40007800, 0x0, 0x400, 'STM32H743'),
  ('UART8', 'Universal synchronous asynchronous receiver
      transmitter', 0x40007C00, 0x0, 0x400, 'STM32H743'),
  ('TIM1', 'Advanced-timers', 0x40010000, 0x0, 0x400, 'STM32H743'),
  ('TIM8', 'Advanced-timers', 0x40010400, 0x0, 0x400, 'STM32H743'),
  ('FDCAN1', 'FDCAN1', 0x4000A000, 0x0, 0x400, 'STM32H743'),
  ('FDCAN2', 'FDCAN1', 0x4000A400, 0x0, 0x400, 'STM32H743'),
  ('CAN_CCU', 'CCU registers', 0x4000A800, 0x0, 0x400, 'STM32H743'),
  ('MDIOS', 'Management data input/output slave', 0x40009400, 0x0, 0x400, 'STM32H743'),
  ('OPAMP', 'Operational amplifiers', 0x40009000, 0x0, 0x400, 'STM32H743'),
  ('SWPMI', 'Single Wire Protocol Master
      Interface', 0x40008800, 0x0, 0x400, 'STM32H743'),
  ('TIM2', 'General purpose timers', 0x40000000, 0x0, 0x400, 'STM32H743'),
  ('TIM3', 'General purpose timers', 0x40000400, 0x0, 0x400, 'STM32H743'),
  ('TIM4', 'General purpose timers', 0x40000800, 0x0, 0x400, 'STM32H743'),
  ('TIM5', 'General purpose timers', 0x40000C00, 0x0, 0x400, 'STM32H743'),
  ('TIM12', 'General purpose timers', 0x40001800, 0x0, 0x400, 'STM32H743'),
  ('TIM13', 'General purpose timers', 0x40001C00, 0x0, 0x400, 'STM32H743'),
  ('TIM14', 'General purpose timers', 0x40002000, 0x0, 0x400, 'STM32H743'),
  ('TIM6', 'Basic timers', 0x40001000, 0x0, 0x400, 'STM32H743'),
  ('TIM7', 'Basic timers', 0x40001400, 0x0, 0x400, 'STM32H743'),
  ('DBGMCU', 'Microcontroller Debug Unit', 0x5C001000, 0x0, 0x400, 'STM32H743');
