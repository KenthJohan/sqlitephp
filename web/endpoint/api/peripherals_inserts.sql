-- Create table for peripherals
CREATE TABLE IF NOT EXISTS `peripherals` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `name` TEXT NOT NULL,
  `description` TEXT,
  `baseAddress` INTEGER NOT NULL,
  `offset` INTEGER,
  `size` INTEGER,
  `derivedFrom` TEXT,
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO `peripherals` (`name`, `description`, `address`, `offset`, `size`, `mcu_name`) VALUES
  ('ADC', 'ADC address block description', 0x40012400, 0x0, 0x30C, 'STM32C051'),
  ('CRC', 'CRC address block description', 0x40023000, 0x0, 0x18, 'STM32C051'),
  ('DBG', 'DBG address block description', 0x40015800, 0x0, 0x10, 'STM32C051'),
  ('DMA', 'DMA register bank', 0x40020000, 0x0, 0x400, 'STM32C051'),
  ('DMAMUX', 'DMAMUX address block description', 0x40020800, 0x0, 0x148, 'STM32C051'),
  ('EXTI', 'EXTI address block description', 0x40021800, 0x0, 0x98, 'STM32C051'),
  ('FLASH', 'FLASH register block', 0x40022000, 0x0, 0x400, 'STM32C051'),
  ('GPIOA', 'GPIOA address block description', 0x50000000, 0x0, 0x2C, 'STM32C051'),
  ('GPIOB', 'GPIOB address block description', 0x50000400, 0x0, 0x2C, 'STM32C051'),
  ('GPIOC', 'GPIOC address block description', 0x50000800, 0x0, 0x2C, 'STM32C051'),
  ('GPIOD', 'GPIOD address block description', 0x50000C00, 0x0, 0x2C, 'STM32C051'),
  ('GPIOF', 'GPIOF address block description', 0x50001400, 0x0, 0x2C, 'STM32C051'),
  ('IWDG', 'IWDG address block description', 0x40003000, 0x0, 0x14, 'STM32C051'),
  ('I2C1', 'I2C address block description', 0x40005400, 0x0, 0x2C, 'STM32C051'),
  ('I2C2', 'I2C address block description', 0x40005800, 0x0, 0x2C, 'STM32C051'),
  ('PWR', 'PWR address block description', 0x40007000, 0x0, 0x80, 'STM32C051'),
  ('RCC', 'RCC address block description', 0x40021000, 0x0, 0x64, 'STM32C051'),
  ('RTC', 'RTC address block description', 0x40002800, 0x0, 0x60, 'STM32C051'),
  ('SPI1', 'SPI address block description', 0x40013000, 0x0, 0x22, 'STM32C051'),
  ('SPI2', 'SPI address block description', 0x40003800, 0x0, 0x22, 'STM32C051'),
  ('SYSCFG', 'Spider_SYSCFG register block', 0x40010000, 0x0, 0x400, 'STM32C051'),
  ('TIM1', 'TIM1 address block description', 0x40012C00, 0x0, 0x6C, 'STM32C051'),
  ('TIM2', 'TIM2 address block description', 0x40000000, 0x0, 0x6C, 'STM32C051'),
  ('TIM3', 'TIM3 address block description', 0x40000400, 0x0, 0x6C, 'STM32C051'),
  ('TIM14', 'TIM14 address block description', 0x40002000, 0x0, 0x6C, 'STM32C051'),
  ('TIM16', 'TIM16 address block description', 0x40014400, 0x0, 0x6C, 'STM32C051'),
  ('TIM17', 'TIM17 address block description', 0x40014800, 0x0, 0x6C, 'STM32C051'),
  ('USART1', 'USART address block description', 0x40013800, 0x0, 0x30, 'STM32C051'),
  ('USART2', 'USART address block description', 0x40004400, 0x0, 0x30, 'STM32C051'),
  ('WWDG', 'WWDG address block description', 0x40002C00, 0x0, 0xC, 'STM32C051');
